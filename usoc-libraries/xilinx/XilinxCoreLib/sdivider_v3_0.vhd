-- $Header: /local/Projects/CVS/P1/zpu_SoC/sources/xilinx/XilinxCoreLib/sdivider_v3_0.vhd,v 1.1 2010-07-10 21:43:21 mmartinez Exp $
--  Copyright(C) 2005 by Xilinx, Inc. All rights reserved.
--  This text/file contains proprietary, confidential
--  information of Xilinx, Inc., is distributed under license
--  from Xilinx, Inc., and may be used, copied and/or
--  disclosed only pursuant to the terms of a valid license
--  agreement with Xilinx, Inc.  Xilinx hereby grants you
--  a license to use this text/file solely for design, simulation,
--  implementation and creation of design files limited
--  to Xilinx devices or technologies. Use with non-Xilinx
--  devices or technologies is expressly prohibited and
--  immediately terminates your license unless covered by
--  a separate agreement.
--
--  Xilinx is providing this design, code, or information
--  "as is" solely for use in developing programs and
--  solutions for Xilinx devices.  By providing this design,
--  code, or information as one possible implementation of
--  this feature, application or standard, Xilinx is making no
--  representation that this implementation is free from any
--  claims of infringement.  You are responsible for
--  obtaining any rights you may require for your implementation.
--  Xilinx expressly disclaims any warranty whatsoever with
--  respect to the adequacy of the implementation, including
--  but not limited to any warranties or representations that this
--  implementation is free from claims of infringement, implied
--  warranties of merchantability or fitness for a particular
--  purpose.
--
--  Xilinx products are not intended for use in life support
--  appliances, devices, or systems. Use in such applications are
--  expressly prohibited.
--
--  This copyright and support notice must be retained as part
--  of this text at all times. (c) Copyright 1995-2005 Xilinx, Inc.
--  All rights reserved.
------------------------------------------------------------
--
--  Description
--  Pipelined divider model
--                  
--
------------------------------------------------------------
--

LIBRARY IEEE;USE IEEE.STD_LOGIC_1164.ALL;USE IEEE.STD_LOGIC_UNSIGNED.ALL;LIBRARY XILINXCORELIB;USE XILINXCORELIB.UL_UTILS.ALL;ENTITY
 SDIVIDER_V3_0 IS GENERIC(C_HAS_ACLR:INTEGER;C_HAS_CE:INTEGER;C_HAS_SCLR:INTEGER;C_SYNC_ENABLE:INTEGER;DIVCLK_SEL:POSITIVE;
DIVIDEND_WIDTH:POSITIVE;DIVISOR_WIDTH:POSITIVE;FRACTIONAL_B:INTEGER;FRACTIONAL_WIDTH:POSITIVE;SIGNED_B:INTEGER);PORT(DIVIDEND:IN
 STD_LOGIC_VECTOR(DIVIDEND_WIDTH-1 DOWNTO 0);DIVISOR:IN STD_LOGIC_VECTOR(DIVISOR_WIDTH-1 DOWNTO 0);QUOT:OUT STD_LOGIC_VECTOR(
DIVIDEND_WIDTH-1 DOWNTO 0);REMD:OUT STD_LOGIC_VECTOR(FRACTIONAL_WIDTH-1 DOWNTO 0);CLK:IN STD_LOGIC;RFD:OUT STD_LOGIC;ACLR:IN
 STD_LOGIC:='0';SCLR:IN STD_LOGIC:='0';CE:IN STD_LOGIC:='0');END;ARCHITECTURE BEHAVIORAL OF SDIVIDER_V3_0 IS FUNCTION II1IOOO1II0l1lOl00I1O001I00O0IIIII
(IO1lll0I0l0l1ll1O01Ol0III011IOIIII,IOO0111OO0lOOl10l1l000l0OlI0IIIIII,IIlO1lIIlOlOOO0l10OI1ll0I0O10IIIII:INTEGER)RETURN INTEGER IS BEGIN IF(IIlO1lIIlOlOOO0l10OI1ll0I0O10IIIII=1)THEN RETURN IO1lll0I0l0l1ll1O01Ol0III011IOIIII+IOO0111OO0lOOl10l1l000l0OlI0IIIIII;ELSE RETURN IO1lll0I0l0l1ll1O01Ol0III011IOIIII;END
 IF;END;FUNCTION IOOOlI0llOIl11IO01100OI1llOIIOIIII(IO1IOOl1111OI1OOII1IOl0lIIIIOIIIII:POSITIVE)RETURN INTEGER IS BEGIN IF IO1IOOl1111OI1OOII1IOl0lIIIIOIIIII=1 THEN RETURN 0;ELSE RETURN 1;END IF;END;
CONSTANT II1001IO0010Oll1I01lOI0I0IlIOIIIII:INTEGER:=DIVIDEND_WIDTH+FRACTIONAL_WIDTH+DIVCLK_SEL+4;CONSTANT IO110I1O0010OIOlIO00l1IIOl0llIIIII:INTEGER:=II1IOOO1II0l1lOl00I1O001I00O0IIIII(
DIVIDEND_WIDTH,FRACTIONAL_WIDTH,FRACTIONAL_B);CONSTANT IIIOOIO01011011IOIIlllIIOO0l1IIIII:INTEGER:=0;CONSTANT II1IOOO00I0OI0O01I000O100llOOIIIII:INTEGER:=
IOOOlI0llOIl11IO01100OI1llOIIOIIII(DIVCLK_SEL);TYPE II00OI0110lI1II101lO1OO00I10OIIIII IS ARRAY(II1001IO0010Oll1I01lOI0I0IlIOIIIII DOWNTO 0)OF STD_LOGIC_VECTOR(DIVIDEND_WIDTH-1 DOWNTO 0);TYPE
 II00OIlIlO101I0IIOO0O1I0ll0OIIIIII IS ARRAY(II1001IO0010Oll1I01lOI0I0IlIOIIIII DOWNTO 0)OF STD_LOGIC_VECTOR(FRACTIONAL_WIDTH-1 DOWNTO 0);FUNCTION IOOI1l1OO01O111lO010OlO1O0l0IIIIII RETURN
 BOOLEAN IS CONSTANT IO11OllII1lO110Ol0I0O00I01l00IIIII:STRING(1 TO 1):=(1=>LF);BEGIN ASSERT(NOT(FRACTIONAL_B=0 AND FRACTIONAL_WIDTH/=DIVISOR_WIDTH))REPORT
"ERROR : Fractional width must equal divisor width for INTEGER remainder dividers"&IO11OllII1lO110Ol0I0O00I01l00IIIII SEVERITY ERROR;ASSERT TRUE REPORT
"ERROR : Dividend width must be in the range 1 to 32"&IO11OllII1lO110Ol0I0O00I01l00IIIII SEVERITY ERROR;ASSERT(NOT(DIVISOR_WIDTH<3 OR DIVISOR_WIDTH>32))REPORT
"ERROR : Divisor width must be in the range 3 to 32"&IO11OllII1lO110Ol0I0O00I01l00IIIII SEVERITY ERROR;ASSERT(NOT(FRACTIONAL_B=1 AND(FRACTIONAL_WIDTH<3 OR
 FRACTIONAL_WIDTH>32)))REPORT"ERROR : Fractional width must be in the range 3 to 32"&IO11OllII1lO110Ol0I0O00I01l00IIIII SEVERITY ERROR;ASSERT(NOT(DIVCLK_SEL
/=1 AND DIVCLK_SEL/=2 AND DIVCLK_SEL/=4 AND DIVCLK_SEL/=8))REPORT"ERROR : Clocks Per Division must be 1, 2, 4 or 8"&IO11OllII1lO110Ol0I0O00I01l00IIIII
 SEVERITY ERROR;RETURN TRUE;END;CONSTANT III01lO1l00IOOO0O0I0O0I111O0IIIIII:BOOLEAN:=IOOI1l1OO01O111lO010OlO1O0l0IIIIII;FUNCTION IO1I1l01l1OI111Ol0IO10110I11IOIIII(IOOll1I1OOlO0lOO0IIII1lO11IIlIIIII,IIIOI11O0OO00OllOllO00lOI000IOIIII,IIOIOOO11l0lO001OI10I0IIIIlIIIIIII,II0IO0I0Olll01OOO0lIOO01lOlIOOIIII,IOO10IlOOIIIlOIO1IOI1l1lOIIlOIIIII:INTEGER
)RETURN INTEGER IS VARIABLE II0l0OlOIIIO1I0IOlIIllOIOO10lIIIII,IO0lIOlI0II1000IOlOIlOI1lIlOOIIIII:INTEGER;BEGIN IF(II0IO0I0Olll01OOO0lIOO01lOlIOOIIII=0)THEN CASE IIOIOOO11l0lO001OI10I0IIIIlIIIIIII IS WHEN 1=>II0l0OlOIIIO1I0IOlIIllOIOO10lIIIII:=IOOll1I1OOlO0lOO0IIII1lO11IIlIIIII+2;WHEN OTHERS=>II0l0OlOIIIO1I0IOlIIllOIOO10lIIIII:=IOOll1I1OOlO0lOO0IIII1lO11IIlIIIII+3;END
 CASE;ELSE CASE IIOIOOO11l0lO001OI10I0IIIIlIIIIIII IS WHEN 1=>II0l0OlOIIIO1I0IOlIIllOIOO10lIIIII:=IOOll1I1OOlO0lOO0IIII1lO11IIlIIIII+2+2;WHEN OTHERS=>II0l0OlOIIIO1I0IOlIIllOIOO10lIIIII:=IOOll1I1OOlO0lOO0IIII1lO11IIlIIIII+3+1;END CASE;END IF;IF(IOO10IlOOIIIlOIO1IOI1l1lOIIlOIIIII=0)THEN RETURN II0l0OlOIIIO1I0IOlIIllOIOO10lIIIII;ELSE RETURN II0l0OlOIIIO1I0IOlIIllOIOO10lIIIII
+IIIOI11O0OO00OllOllO00lOI000IOIIII;END IF;END;SIGNAL IO0O10O101OOIOOl10lIIO101lIIIIIIII:STD_LOGIC_VECTOR(DIVIDEND_WIDTH DOWNTO 0);SIGNAL IIOl10001I1Ol001OIO01IO1II10OIIIII:STD_LOGIC_VECTOR(DIVISOR_WIDTH
 DOWNTO 0);SIGNAL IIIO0lOII1OIlOOIO1IlI1lIIO001IIIII:STD_LOGIC_VECTOR(DIVIDEND_WIDTH DOWNTO 0);SIGNAL IIIIl1100lOI0I1OO1I00OlI0l10IIIIII:STD_LOGIC_VECTOR(FRACTIONAL_WIDTH
 DOWNTO 0);SIGNAL IOlI00I100IOOOl011O11IOI1l010IIIII:BOOLEAN:=FALSE;SIGNAL IIIO1O1110Oll10OI110OIIO111OOIIIII:BOOLEAN:=FALSE;SIGNAL IIl0OIlO00I0lI101l1I0lO1II0IlIIIII:BOOLEAN:=FALSE;SIGNAL
 IOIlII1I0O0l1l1O110O0IOlO0O1lIIIII:BOOLEAN:=FALSE;SIGNAL II11I0011I0IIIl0100l1O01O01O0IIIII:STD_LOGIC_VECTOR(DIVISOR_WIDTH-1 DOWNTO 0);SIGNAL II011lO0O1l10O0I0OIOO000I0O1IOIIII:STD_LOGIC_VECTOR(
DIVIDEND_WIDTH-1 DOWNTO 0);SIGNAL IO1IIIl1OO00II0ll110l0l0IIO0lIIIII:II00OI0110lI1II101lO1OO00I10OIIIII;SIGNAL IIlOllOOI0ll11O1101IIl0l11ll1IIIII:II00OIlIlO101I0IIOO0O1I0ll0OIIIIII;SIGNAL II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII:INTEGER;BEGIN
 MAIN:PROCESS(CLK,ACLR)VARIABLE III1OO10l11110IO1IO0lOII0OO11IIIII:BOOLEAN:=TRUE;VARIABLE IO1O1llOO0IlllI1O1OlOI010l1IIIIIII:INTEGER:=1;VARIABLE IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII:INTEGER:=0;VARIABLE
 II1IO01lI1IO1OII11O1II01I0llIOIIII:INTEGER:=IO1I1l01l1OI111Ol0IO10110I11IOIIII(DIVIDEND_WIDTH,FRACTIONAL_WIDTH,DIVCLK_SEL,SIGNED_B,FRACTIONAL_B);VARIABLE II1lIII001001Il0l0OOl0I00I01IIIIII:II00OI0110lI1II101lO1OO00I10OIIIII;
VARIABLE II0O0l0l00OIOl0Ol101Il1Ol0I1lIIIII:II00OIlIlO101I0IIOO0O1I0ll0OIIIIII;VARIABLE IOII100I0I1l010IOI1lO1O1I1101IIIII:STD_LOGIC_VECTOR(DIVIDEND_WIDTH-1 DOWNTO 0);VARIABLE IOO10OI11Il110I11IIIIIOIO10OlIIIII:
STD_LOGIC_VECTOR(DIVISOR_WIDTH-1 DOWNTO 0);VARIABLE IOO1I1lI11Ol1l1OOlllIIII1l1IOIIIII:STD_LOGIC_VECTOR(DIVIDEND_WIDTH DOWNTO 0);VARIABLE IOl0l10lI11IO10lI1OI1IOI01OO0IIIII:
STD_LOGIC_VECTOR(DIVISOR_WIDTH DOWNTO 0);VARIABLE IOO1l1010O10O10I0llO11O100O1IOIIII:STD_LOGIC_VECTOR(IO110I1O0010OIOlIO00l1IIOl0llIIIII-1 DOWNTO 0);VARIABLE IOIlOIOl1lO1l001Ol10IO01OIlI1IIIII:
STD_LOGIC_VECTOR(FRACTIONAL_WIDTH-1 DOWNTO 0);VARIABLE II0IOOI1Il101lO1O010O0O0IO10IOIIII:STD_LOGIC_VECTOR(DIVIDEND_WIDTH DOWNTO 0);VARIABLE IO1lIIIOl1IIIO1O1lllOO0I1lO0OIIIII
:STD_LOGIC_VECTOR(FRACTIONAL_WIDTH DOWNTO 0);VARIABLE IOOIOOI00l1OOOlI1OOO0I00Ol0IlIIIII,II111OIOII1IIOOOlO1I011OI0I0lIIIII:STD_LOGIC_VECTOR(DIVISOR_WIDTH DOWNTO 0);VARIABLE
 III0OI0OlIOOl1Ol1I0l00O0lI1IIIIIII:STD_LOGIC_VECTOR(DIVIDEND_WIDTH-1 DOWNTO 0);VARIABLE IIIIlI10IO0IlIll11O0O1OII0OIIOIIII:STD_LOGIC_VECTOR(DIVISOR_WIDTH DOWNTO 0);VARIABLE
 IIIO10O1ll1l0O0IOl0l1lllO0lI1IIIII:STD_LOGIC_VECTOR(FRACTIONAL_WIDTH-1 DOWNTO 0);VARIABLE IIIlOO0OOl101Ol0Oll10O1lOIIO0IIIII:BOOLEAN:=FALSE;VARIABLE IIl1O1I0001l1001OllOOII0I10l1IIIII:BOOLEAN:=
FALSE;VARIABLE IIlIlll0III10I0Il0I0OOOIOIIOOIIIII:BOOLEAN:=FALSE;VARIABLE IOOI10l0O1lIlIll00Ol1lll10IIIIIIII:BOOLEAN:=FALSE;VARIABLE IO0OOOI1IIIlIOIIOO0Il00I1lOOlIIIII:STD_LOGIC:='0';VARIABLE IOl0I10010lIIIl000I1O1IO1IlOIIIIII,IOl1I1O0IIO001llOlll1I1lOI1l0IIIII:INTEGER;
VARIABLE IOl1Ol11IlIl0110l0OOll000lI11IIIII,II001Il0III1O1OI001IOI100000OIIIII:STD_LOGIC;VARIABLE IOOl0llO0OI110111OIOlOIO0lOOIOIIII:INTEGER;VARIABLE II1IOO1l1I11I1ll1OI1I00lII000IIIII:INTEGER;VARIABLE II0II1IO1I0IOIl0ll1I0O00lIIOOIIIII:INTEGER;
VARIABLE IOOl0IOOO1011llOIOl01lIOI0O11IIIII:STD_LOGIC;FUNCTION IIOlOO00Ol0011IIIIIO1I1lllIO0IIIII(II1I0O0100lIIII11lI00l0OOII0lIIIII:INTEGER)RETURN STD_LOGIC_VECTOR IS VARIABLE IIOIOI0lO1lO100O11Il0OII11OlOIIIII:STD_LOGIC_VECTOR(II1I0O0100lIIII11lI00l0OOII0lIIIII-1 DOWNTO
 0);BEGIN FOR IO0IlO1lI10Il011101l101IIl0IOIIIII IN 0 TO II1I0O0100lIIII11lI00l0OOII0lIIIII-1 LOOP IIOIOI0lO1lO100O11Il0OII11OlOIIIII(IO0IlO1lI10Il011101l101IIl0IOIIIII):='1';END LOOP;RETURN IIOIOI0lO1lO100O11Il0OII11OlOIIIII;END;PROCEDURE IOI1O00I10101l0I1001llOOI0I0IOIIII(VARIABLE IIOIO000I1OI0OlOI1OIOI1l0I0l1IIIII:OUT
 II00OI0110lI1II101lO1OO00I10OIIIII;VARIABLE IO1Il1I0OOOOIl0IOO011l1I0111OIIIII:OUT II00OIlIlO101I0IIOO0O1I0ll0OIIIIII;VARIABLE IO0l0IOllOl1100O10O1O1l0lIO1OIIIII:OUT STD_LOGIC_VECTOR(DIVIDEND_WIDTH-1 DOWNTO 0);VARIABLE
 IIlOO000I01110Ill0l1OI1l10IOIOIIII:OUT STD_LOGIC_VECTOR(DIVISOR_WIDTH-1 DOWNTO 0);VARIABLE II1011O1IO1l0llOI11lIIOIlOlIlIIIII:OUT STD_LOGIC_VECTOR(IO110I1O0010OIOlIO00l1IIOl0llIIIII-1 DOWNTO 0);VARIABLE
 IOO0I1l1IOO0II0O00I0IllOOI1OOIIIII:OUT STD_LOGIC_VECTOR(FRACTIONAL_WIDTH-1 DOWNTO 0);VARIABLE IOI01l1I0000lIO0IIO01IlIO1001IIIII:OUT INTEGER;VARIABLE IOI0IIll0I0l1IO0I01lO110IIIIIOIIII:OUT
 INTEGER;VARIABLE IO00l1I0I1IOlII011Il0l0lOI0OIIIIII:OUT STD_LOGIC)IS BEGIN FOR IO01l1ll0IlOll0I00lll11l0OllIIIIII IN II1IO01lI1IO1OII11O1II01I0llIOIIII-1 DOWNTO 0 LOOP IIOIO000I1OI0OlOI1OIOI1l0I0l1IIIII(IO01l1ll0IlOll0I00lll11l0OllIIIIII):=SETALL0(DIVIDEND_WIDTH);IO1Il1I0OOOOIl0IOO011l1I0111OIIIII(IO01l1ll0IlOll0I00lll11l0OllIIIIII
):=SETALL0(FRACTIONAL_WIDTH);END LOOP;IO0l0IOllOl1100O10O1O1l0lIO1OIIIII:=SETALL0(DIVIDEND_WIDTH);IIlOO000I01110Ill0l1OI1l10IOIOIIII:=SETALL0(DIVISOR_WIDTH-1)&'1';II1011O1IO1l0llOI11lIIOIlOlIlIIIII:=SETALL0(
IO110I1O0010OIOlIO00l1IIOl0llIIIII);IOO0I1l1IOO0II0O00I0IllOOI1OOIIIII:=SETALL0(FRACTIONAL_WIDTH);IOI01l1I0000lIO0IIO01IlIO1001IIIII:=II1IOOO00I0OI0O01I000O100llOOIIIII;IOI0IIll0I0l1IO0I01lO110IIIIIOIIII:=IIIOOIO01011011IOIIlllIIOO0l1IIIII;IF
 DIVCLK_SEL=1 THEN IO00l1I0I1IOlII011Il0l0lOI0OIIIIII:='1';ELSE IO00l1I0I1IOlII011Il0l0lOI0OIIIIII:='0';END IF;END;BEGIN IOOl0llO0OI110111OIOlOIO0lOOIOIIII:=DIVISOR_WIDTH;II1IOO1l1I11I1ll1OI1I00lII000IIIII:=DIVIDEND_WIDTH;
II0II1IO1I0IOIl0ll1I0O00lIIOOIIIII:=IO110I1O0010OIOlIO00l1IIOl0llIIIII;IF(III1OO10l11110IO1IO0lOII0OO11IIIII=TRUE)THEN IOI1O00I10101l0I1001llOOI0I0IOIIII(II1lIII001001Il0l0OOl0I00I01IIIIII,II0O0l0l00OIOl0Ol101Il1Ol0I1lIIIII,IOII100I0I1l010IOI1lO1O1I1101IIIII,IOO10OI11Il110I11IIIIIOIO10OlIIIII,IOO1l1010O10O10I0llO11O100O1IOIIII,IOIlOIOl1lO1l001Ol10IO01OIlI1IIIII,
IO1O1llOO0IlllI1O1OlOI010l1IIIIIII,IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII,IO0OOOI1IIIlIOIIOO0Il00I1lOOlIIIII);III1OO10l11110IO1IO0lOII0OO11IIIII:=FALSE;RFD<=IO0OOOI1IIIlIOIIOO0Il00I1lOOlIIIII;ELSIF(RAT(CLK)='X')THEN FOR IOI11IOIlOI1II1Il11OlI01Illl0IIIII IN II1IO01lI1IO1OII11O1II01I0llIOIIII-1 DOWNTO 0 LOOP II1lIII001001Il0l0OOl0I00I01IIIIII(IOI11IOIlOI1II1Il11OlI01Illl0IIIII):=
SETALLX(DIVIDEND_WIDTH);II0O0l0l00OIOl0Ol101Il1Ol0I1lIIIII(IOI11IOIlOI1II1Il11OlI01Illl0IIIII):=SETALLX(FRACTIONAL_WIDTH);END LOOP;ELSIF(C_HAS_ACLR=1)AND(ACLR='1')THEN IOI1O00I10101l0I1001llOOI0I0IOIIII(
II1lIII001001Il0l0OOl0I00I01IIIIII,II0O0l0l00OIOl0Ol101Il1Ol0I1lIIIII,IOII100I0I1l010IOI1lO1O1I1101IIIII,IOO10OI11Il110I11IIIIIOIO10OlIIIII,IOO1l1010O10O10I0llO11O100O1IOIIII,IOIlOIOl1lO1l001Ol10IO01OIlI1IIIII,IO1O1llOO0IlllI1O1OlOI010l1IIIIIII,IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII,IO0OOOI1IIIlIOIIOO0Il00I1lOOlIIIII);II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII<=IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII;RFD<=
IO0OOOI1IIIlIOIIOO0Il00I1lOOlIIIII;ELSIF(RISING_EDGE(CLK))THEN IF(C_SYNC_ENABLE=0)AND(C_HAS_SCLR=1)AND(SCLR='1')THEN IOI1O00I10101l0I1001llOOI0I0IOIIII(II1lIII001001Il0l0OOl0I00I01IIIIII,II0O0l0l00OIOl0Ol101Il1Ol0I1lIIIII,IOII100I0I1l010IOI1lO1O1I1101IIIII,
IOO10OI11Il110I11IIIIIOIO10OlIIIII,IOO1l1010O10O10I0llO11O100O1IOIIII,IOIlOIOl1lO1l001Ol10IO01OIlI1IIIII,IO1O1llOO0IlllI1O1OlOI010l1IIIIIII,IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII,IO0OOOI1IIIlIOIIOO0Il00I1lOOlIIIII);II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII<=IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII;RFD<=IO0OOOI1IIIlIOIIOO0Il00I1lOOlIIIII;ELSE IF((C_HAS_CE=1)AND(CE='1')
)OR(C_HAS_CE=0)THEN IF(C_HAS_SCLR=1)AND(SCLR='1')THEN IOI1O00I10101l0I1001llOOI0I0IOIIII(II1lIII001001Il0l0OOl0I00I01IIIIII,II0O0l0l00OIOl0Ol101Il1Ol0I1lIIIII,IOII100I0I1l010IOI1lO1O1I1101IIIII,IOO10OI11Il110I11IIIIIOIO10OlIIIII,IOO1l1010O10O10I0llO11O100O1IOIIII,IOIlOIOl1lO1l001Ol10IO01OIlI1IIIII,
IO1O1llOO0IlllI1O1OlOI010l1IIIIIII,IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII,IO0OOOI1IIIlIOIIOO0Il00I1lOOlIIIII);II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII<=IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII;RFD<=IO0OOOI1IIIlIOIIOO0Il00I1lOOlIIIII;ELSE II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII<=IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII;IF(IO1O1llOO0IlllI1O1OlOI010l1IIIIIII/=0)THEN
 IO1O1llOO0IlllI1O1OlOI010l1IIIIIII:=IO1O1llOO0IlllI1O1OlOI010l1IIIIIII-1;IF DIVCLK_SEL=2 AND SIGNED_B=1 THEN IO0OOOI1IIIlIOIIOO0Il00I1lOOlIIIII:='1';ELSE IO0OOOI1IIIlIOIIOO0Il00I1lOOlIIIII:='0';END IF;RFD<=IO0OOOI1IIIlIOIIOO0Il00I1lOOlIIIII;ELSE IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII
:=IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII+1;II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII<=IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII;IF SIGNED_B=1 THEN IF DIVCLK_SEL=1 THEN IO0OOOI1IIIlIOIIOO0Il00I1lOOlIIIII:='1';ELSE IF((DIVCLK_SEL/=2)AND(
IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII=DIVCLK_SEL-2))OR((DIVCLK_SEL=2)AND(IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII=2))THEN IO0OOOI1IIIlIOIIOO0Il00I1lOOlIIIII:='1';ELSE IO0OOOI1IIIlIOIIOO0Il00I1lOOlIIIII:='0';END IF;END IF;ELSE IF((IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII
 REM DIVCLK_SEL)=DIVCLK_SEL-1)THEN IO0OOOI1IIIlIOIIOO0Il00I1lOOlIIIII:='1';ELSE IO0OOOI1IIIlIOIIOO0Il00I1lOOlIIIII:='0';END IF;END IF;RFD<=IO0OOOI1IIIlIOIIOO0Il00I1lOOlIIIII;IF(SIGNED_B=1)THEN IF((IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII REM
 DIVCLK_SEL)=DIVCLK_SEL-1)THEN IOII100I0I1l010IOI1lO1O1I1101IIIII:=STD_LOGIC_VECTOR_2_VAR(DIVIDEND);IOO10OI11Il110I11IIIIIOIO10OlIIIII:=STD_LOGIC_VECTOR_2_VAR(DIVISOR);END IF;END IF;
IF((IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII REM DIVCLK_SEL)=0)AND IO1O1llOO0IlllI1O1OlOI010l1IIIIIII=0 THEN IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII:=0;II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII<=IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII;IF(ANYX(DIVIDEND)OR ANYX(
DIVISOR))THEN IOO1l1010O10O10I0llO11O100O1IOIIII:=SETALLX(IO110I1O0010OIOlIO00l1IIOl0llIIIII);IOIlOIOl1lO1l001Ol10IO01OIlI1IIIII:=SETALLX(FRACTIONAL_WIDTH);ELSE IIIlOO0OOl101Ol0Oll10O1lOIIO0IIIII:=FALSE;IIl1O1I0001l1001OllOOII0I10l1IIIII:=FALSE;
IOlI00I100IOOOl011O11IOI1l010IIIII<=FALSE;IIIO1O1110Oll10OI110OIIO111OOIIIII<=FALSE;IF(SIGNED_B=0)THEN IOII100I0I1l010IOI1lO1O1I1101IIIII:=STD_LOGIC_VECTOR_2_VAR(DIVIDEND);IOO10OI11Il110I11IIIIIOIO10OlIIIII:=
STD_LOGIC_VECTOR_2_VAR(DIVISOR);END IF;II11I0011I0IIIl0100l1O01O01O0IIIII<=IOO10OI11Il110I11IIIIIOIO10OlIIIII;II011lO0O1l10O0I0OIOO000I0O1IOIIII<=IOII100I0I1l010IOI1lO1O1I1101IIIII;IF((SIGNED_B=1)AND(IOII100I0I1l010IOI1lO1O1I1101IIIII(DIVIDEND_WIDTH-1)=
'1'))THEN IIIlOO0OOl101Ol0Oll10O1lOIIO0IIIII:=TRUE;IOlI00I100IOOOl011O11IOI1l010IIIII<=TRUE;IOO1I1lI11Ol1l1OOlllIIII1l1IOIIIII:=NOT('0'&IOII100I0I1l010IOI1lO1O1I1101IIIII)+1;IO0O10O101OOIOOl10lIIO101lIIIIIIII<=IOO1I1lI11Ol1l1OOlllIIII1l1IOIIIII;IOII100I0I1l010IOI1lO1O1I1101IIIII:=
IOO1I1lI11Ol1l1OOlllIIII1l1IOIIIII(DIVIDEND_WIDTH-1 DOWNTO 0);END IF;IF((SIGNED_B=1)AND(IOO10OI11Il110I11IIIIIOIO10OlIIIII(DIVISOR_WIDTH-1)='1'))THEN IIl1O1I0001l1001OllOOII0I10l1IIIII:=TRUE;
IIIO1O1110Oll10OI110OIIO111OOIIIII<=TRUE;IOl0l10lI11IO10lI1OI1IOI01OO0IIIII:=NOT('0'&IOO10OI11Il110I11IIIIIOIO10OlIIIII)+1;IIOl10001I1Ol001OIO01IO1II10OIIIII<=IOl0l10lI11IO10lI1OI1IOI01OO0IIIII;IOO10OI11Il110I11IIIIIOIO10OlIIIII:=IOl0l10lI11IO10lI1OI1IOI01OO0IIIII(DIVISOR_WIDTH-1 DOWNTO 0);
END IF;IF(IIIlOO0OOl101Ol0Oll10O1lOIIO0IIIII XOR IIl1O1I0001l1001OllOOII0I10l1IIIII)THEN IIlIlll0III10I0Il0I0OOOIOIIOOIIIII:=TRUE;ELSE IIlIlll0III10I0Il0I0OOOIOIIOOIIIII:=FALSE;END IF;IIl0OIlO00I0lI101l1I0lO1II0IlIIIII<=IIlIlll0III10I0Il0I0OOOIOIIOOIIIII;IF(
IIIlOO0OOl101Ol0Oll10O1lOIIO0IIIII)THEN IOOI10l0O1lIlIll00Ol1lll10IIIIIIII:=TRUE;ELSE IOOI10l0O1lIlIll00Ol1lll10IIIIIIII:=FALSE;END IF;IOIlII1I0O0l1l1O110O0IOlO0O1lIIIII<=IOOI10l0O1lIlIll00Ol1lll10IIIIIIII;III0OI0OlIOOl1Ol1I0l00O0lI1IIIIIII(
II1IOO1l1I11I1ll1OI1I00lII000IIIII-1 DOWNTO 0):=IOII100I0I1l010IOI1lO1O1I1101IIIII(II1IOO1l1I11I1ll1OI1I00lII000IIIII-1 DOWNTO 0);IIIIlI10IO0IlIll11O0O1OII0OIIOIIII(IOOl0llO0OI110111OIOlOIO0lOOIOIIII DOWNTO 0):='0'&IOO10OI11Il110I11IIIIIOIO10OlIIIII(
IOOl0llO0OI110111OIOlOIO0lOOIOIIII-1 DOWNTO 0);IOOIOOI00l1OOOlI1OOO0I00Ol0IlIIIII:=(OTHERS=>'0');FOR IIlO0IOl0I0I0lI0OOll1l1l1lO0IIIIII IN 0 TO II0II1IO1I0IOIl0ll1I0O00lIIOOIIIII-1 LOOP II001Il0III1O1OI001IOI100000OIIIII:=IOOIOOI00l1OOOlI1OOO0I00Ol0IlIIIII(IOOl0llO0OI110111OIOlOIO0lOOIOIIII);IOOIOOI00l1OOOlI1OOO0I00Ol0IlIIIII(
IOOl0llO0OI110111OIOlOIO0lOOIOIIII DOWNTO 1):=IOOIOOI00l1OOOlI1OOO0I00Ol0IlIIIII(IOOl0llO0OI110111OIOlOIO0lOOIOIIII-1 DOWNTO 0);IF(II1IOO1l1I11I1ll1OI1I00lII000IIIII-1-IIlO0IOl0I0I0lI0OOll1l1l1lO0IIIIII>=0)THEN IOOIOOI00l1OOOlI1OOO0I00Ol0IlIIIII(0):=III0OI0OlIOOl1Ol1I0l00O0lI1IIIIIII(
II1IOO1l1I11I1ll1OI1I00lII000IIIII-1-IIlO0IOl0I0I0lI0OOll1l1l1lO0IIIIII);ELSE IOOIOOI00l1OOOlI1OOO0I00Ol0IlIIIII(0):='0';END IF;IF(II001Il0III1O1OI001IOI100000OIIIII='1')THEN IOl1Ol11IlIl0110l0OOll000lI11IIIII:='0';FOR IOlIOOI0O1OIlOl01O0OIII10O11lIIIII IN 0 TO IOOl0llO0OI110111OIOlOIO0lOOIOIIII LOOP II111OIOII1IIOOOlO1I011OI0I0lIIIII(IOlIOOI0O1OIlOl01O0OIII10O11lIIIII):=IOOIOOI00l1OOOlI1OOO0I00Ol0IlIIIII
(IOlIOOI0O1OIlOl01O0OIII10O11lIIIII)XOR IIIIlI10IO0IlIll11O0O1OII0OIIOIIII(IOlIOOI0O1OIlOl01O0OIII10O11lIIIII)XOR IOl1Ol11IlIl0110l0OOll000lI11IIIII;IOl1Ol11IlIl0110l0OOll000lI11IIIII:=(IOOIOOI00l1OOOlI1OOO0I00Ol0IlIIIII(IOlIOOI0O1OIlOl01O0OIII10O11lIIIII)AND IIIIlI10IO0IlIll11O0O1OII0OIIOIIII(IOlIOOI0O1OIlOl01O0OIII10O11lIIIII))OR(IOl1Ol11IlIl0110l0OOll000lI11IIIII AND IOOIOOI00l1OOOlI1OOO0I00Ol0IlIIIII(IOlIOOI0O1OIlOl01O0OIII10O11lIIIII))OR(IOl1Ol11IlIl0110l0OOll000lI11IIIII AND IIIIlI10IO0IlIll11O0O1OII0OIIOIIII(IOlIOOI0O1OIlOl01O0OIII10O11lIIIII));END LOOP;ELSE IOl1Ol11IlIl0110l0OOll000lI11IIIII
:='0';FOR IO1OIOI0I1l11O0IllIOllII1llIIOIIII IN 0 TO IOOl0llO0OI110111OIOlOIO0lOOIOIIII LOOP II111OIOII1IIOOOlO1I011OI0I0lIIIII(IO1OIOI0I1l11O0IllIOllII1llIIOIIII):=((IOOIOOI00l1OOOlI1OOO0I00Ol0IlIIIII(IO1OIOI0I1l11O0IllIOllII1llIIOIIII)XOR IIIIlI10IO0IlIll11O0O1OII0OIIOIIII(IO1OIOI0I1l11O0IllIOllII1llIIOIIII))AND(NOT(IOl1Ol11IlIl0110l0OOll000lI11IIIII)))OR((NOT(IOOIOOI00l1OOOlI1OOO0I00Ol0IlIIIII(IO1OIOI0I1l11O0IllIOllII1llIIOIIII)XOR
 IIIIlI10IO0IlIll11O0O1OII0OIIOIIII(IO1OIOI0I1l11O0IllIOllII1llIIOIIII))AND IOl1Ol11IlIl0110l0OOll000lI11IIIII));IOl1Ol11IlIl0110l0OOll000lI11IIIII:=(NOT(IOl1Ol11IlIl0110l0OOll000lI11IIIII)AND(NOT(IOOIOOI00l1OOOlI1OOO0I00Ol0IlIIIII(IO1OIOI0I1l11O0IllIOllII1llIIOIIII))AND IIIIlI10IO0IlIll11O0O1OII0OIIOIIII(IO1OIOI0I1l11O0IllIOllII1llIIOIIII)))OR(IOl1Ol11IlIl0110l0OOll000lI11IIIII AND(NOT(IOOIOOI00l1OOOlI1OOO0I00Ol0IlIIIII(IO1OIOI0I1l11O0IllIOllII1llIIOIIII))OR IIIIlI10IO0IlIll11O0O1OII0OIIOIIII(IO1OIOI0I1l11O0IllIOllII1llIIOIIII)));END
 LOOP;END IF;IOOIOOI00l1OOOlI1OOO0I00Ol0IlIIIII:=II111OIOII1IIOOOlO1I011OI0I0lIIIII;IOO1l1010O10O10I0llO11O100O1IOIIII(II0II1IO1I0IOIl0ll1I0O00lIIOOIIIII-1-IIlO0IOl0I0I0lI0OOll1l1l1lO0IIIIII):=NOT(IOOIOOI00l1OOOlI1OOO0I00Ol0IlIIIII(IOOl0llO0OI110111OIOlOIO0lOOIOIIII));END LOOP;IF(FRACTIONAL_B=0)THEN IF(IOOIOOI00l1OOOlI1OOO0I00Ol0IlIIIII(
IOOl0llO0OI110111OIOlOIO0lOOIOIIII)='1')THEN IOl1Ol11IlIl0110l0OOll000lI11IIIII:='0';FOR IIOOO0OOIll110IlI1111I1001I01IIIII IN 0 TO IOOl0llO0OI110111OIOlOIO0lOOIOIIII-1 LOOP IIIO10O1ll1l0O0IOl0l1lllO0lI1IIIII(IIOOO0OOIll110IlI1111I1001I01IIIII):=IOOIOOI00l1OOOlI1OOO0I00Ol0IlIIIII(IIOOO0OOIll110IlI1111I1001I01IIIII)XOR IIIIlI10IO0IlIll11O0O1OII0OIIOIIII(IIOOO0OOIll110IlI1111I1001I01IIIII)XOR IOl1Ol11IlIl0110l0OOll000lI11IIIII;IOl1Ol11IlIl0110l0OOll000lI11IIIII
:=(IOOIOOI00l1OOOlI1OOO0I00Ol0IlIIIII(IIOOO0OOIll110IlI1111I1001I01IIIII)AND IIIIlI10IO0IlIll11O0O1OII0OIIOIIII(IIOOO0OOIll110IlI1111I1001I01IIIII))OR(IOl1Ol11IlIl0110l0OOll000lI11IIIII AND IOOIOOI00l1OOOlI1OOO0I00Ol0IlIIIII(IIOOO0OOIll110IlI1111I1001I01IIIII))OR(IOl1Ol11IlIl0110l0OOll000lI11IIIII AND IIIIlI10IO0IlIll11O0O1OII0OIIOIIII(IIOOO0OOIll110IlI1111I1001I01IIIII));END LOOP;ELSE IIIO10O1ll1l0O0IOl0l1lllO0lI1IIIII(IOOl0llO0OI110111OIOlOIO0lOOIOIIII-1
 DOWNTO 0):=IOOIOOI00l1OOOlI1OOO0I00Ol0IlIIIII(IOOl0llO0OI110111OIOlOIO0lOOIOIIII-1 DOWNTO 0);END IF;IOIlOIOl1lO1l001Ol10IO01OIlI1IIIII(IOOl0llO0OI110111OIOlOIO0lOOIOIIII-1 DOWNTO 0):=IIIO10O1ll1l0O0IOl0l1lllO0lI1IIIII(IOOl0llO0OI110111OIOlOIO0lOOIOIIII-1
 DOWNTO 0);END IF;IF(IOOI10l0O1lIlIll00Ol1lll10IIIIIIII)THEN IO1lIIIOl1IIIO1O1lllOO0I1lO0OIIIII:=NOT('0'&IOIlOIOl1lO1l001Ol10IO01OIlI1IIIII)+1;IIIIl1100lOI0I1OO1I00OlI0l10IIIIII<=IO1lIIIOl1IIIO1O1lllOO0I1lO0OIIIII;IOIlOIOl1lO1l001Ol10IO01OIlI1IIIII:=
IO1lIIIOl1IIIO1O1lllOO0I1lO0OIIIII(FRACTIONAL_WIDTH-1 DOWNTO 0);END IF;END IF;END IF;FOR IO00lII1lIll0OllOlI1l1O0OI100IIIII IN II1IO01lI1IO1OII11O1II01I0llIOIIII-2 DOWNTO 0 LOOP II1lIII001001Il0l0OOl0I00I01IIIIII(IO00lII1lIll0OllOlI1l1O0OI100IIIII+1):=II1lIII001001Il0l0OOl0I00I01IIIIII(IO00lII1lIll0OllOlI1l1O0OI100IIIII);
II0O0l0l00OIOl0Ol101Il1Ol0I1lIIIII(IO00lII1lIll0OllOlI1l1O0OI100IIIII+1):=II0O0l0l00OIOl0Ol101Il1Ol0I1lIIIII(IO00lII1lIll0OllOlI1l1O0OI100IIIII);END LOOP;IF(FRACTIONAL_B=1)THEN IF(SIGNED_B=0)THEN II0O0l0l00OIOl0Ol101Il1Ol0I1lIIIII(0):=IOO1l1010O10O10I0llO11O100O1IOIIII(FRACTIONAL_WIDTH-1
 DOWNTO 0);ELSE IOIlOIOl1lO1l001Ol10IO01OIlI1IIIII(FRACTIONAL_WIDTH-1 DOWNTO 0):=IOO1l1010O10O10I0llO11O100O1IOIIII(FRACTIONAL_WIDTH-1 DOWNTO 0);IF(IIlIlll0III10I0Il0I0OOOIOIIOOIIIII)THEN IO1lIIIOl1IIIO1O1lllOO0I1lO0OIIIII
:=NOT('0'&IOIlOIOl1lO1l001Ol10IO01OIlI1IIIII)+1;ELSE IF ANYX(IOIlOIOl1lO1l001Ol10IO01OIlI1IIIII)THEN IOOl0IOOO1011llOIOl01lIOI0O11IIIII:='X';ELSE IOOl0IOOO1011llOIOl01lIOI0O11IIIII:='0';END IF;IO1lIIIOl1IIIO1O1lllOO0I1lO0OIIIII:=IOOl0IOOO1011llOIOl01lIOI0O11IIIII&IOIlOIOl1lO1l001Ol10IO01OIlI1IIIII;END
 IF;II0O0l0l00OIOl0Ol101Il1Ol0I1lIIIII(0):=IO1lIIIOl1IIIO1O1lllOO0I1lO0OIIIII(FRACTIONAL_WIDTH DOWNTO 1);END IF;ELSE II0O0l0l00OIOl0Ol101Il1Ol0I1lIIIII(0):=IOIlOIOl1lO1l001Ol10IO01OIlI1IIIII;END IF;II1lIII001001Il0l0OOl0I00I01IIIIII(0):=IOO1l1010O10O10I0llO11O100O1IOIIII
(IO110I1O0010OIOlIO00l1IIOl0llIIIII-1 DOWNTO IO110I1O0010OIOlIO00l1IIOl0llIIIII-DIVIDEND_WIDTH);IF(IIlIlll0III10I0Il0I0OOOIOIIOOIIIII)THEN II0IOOI1Il101lO1O010O0O0IO10IOIIII:=NOT('0'&II1lIII001001Il0l0OOl0I00I01IIIIII(0))+1;IIIO0lOII1OIlOOIO1IlI1lIIO001IIIII<=
II0IOOI1Il101lO1O010O0O0IO10IOIIII;II1lIII001001Il0l0OOl0I00I01IIIIII(0):=II0IOOI1Il101lO1O010O0O0IO10IOIIII(DIVIDEND_WIDTH-1 DOWNTO 0);END IF;END IF;END IF;END IF;END IF;END IF;QUOT<=II1lIII001001Il0l0OOl0I00I01IIIIII(
II1IO01lI1IO1OII11O1II01I0llIOIIII-1);REMD<=II0O0l0l00OIOl0Ol101Il1Ol0I1lIIIII(II1IO01lI1IO1OII11O1II01I0llIOIIII-1);IO1IIIl1OO00II0ll110l0l0IIO0lIIIII<=II1lIII001001Il0l0OOl0I00I01IIIIII;IIlOllOOI0ll11O1101IIl0l11ll1IIIII<=II0O0l0l00OIOl0Ol101Il1Ol0I1lIIIII;END PROCESS;END;
