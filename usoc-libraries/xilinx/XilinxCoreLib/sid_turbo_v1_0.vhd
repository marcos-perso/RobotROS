-- Copyright(C) 2003 by Xilinx, Inc. All rights reserved.
-- This text/file contains proprietary, confidential
-- information of Xilinx, Inc., is distributed under license
-- from Xilinx, Inc., and may be used, copied and/or
-- disclosed only pursuant to the terms of a valid license
-- agreement with Xilinx, Inc. Xilinx hereby grants you
-- a license to use this text/file solely for design, simulation,
-- implementation and creation of design files limited
-- to Xilinx devices or technologies. Use with non-Xilinx
-- devices or technologies is expressly prohibited and
-- immediately terminates your license unless covered by
-- a separate agreement.
--
-- Xilinx is providing this design, code, or information
-- "as is" solely for use in developing programs and
-- solutions for Xilinx devices. By providing this design,
-- code, or information as one possible implementation of
-- this feature, application or standard, Xilinx is making no
-- representation that this implementation is free from any
-- claims of infringement. You are responsible for
-- obtaining any rights you may require for your implementation.
-- Xilinx expressly disclaims any warranty whatsoever with
-- respect to the adequacy of the implementation, including
-- but not limited to any warranties or representations that this
-- implementation is free from claims of infringement, implied
-- warranties of merchantability or fitness for a particular
-- purpose.
--
-- Xilinx products are not intended for use in life support
-- appliances, devices, or systems. Use in such applications are
-- expressly prohibited.
--
-- This copyright and support notice must be retained as part
-- of this text at all times. (c) Copyright 1995-2003 Xilinx, Inc.
-- All rights reserved.
------------------------------------------------------------------------------
--
-- Behavorial simulation model for CDMA 2000 Turbo Interleaver-deinterleaver
--
-- File name    : sid_turbo_v1_0.vhd  / sid_unobf_turbo_v1_0.vhd
--
-- Version      : 1.0
-- 
-- Copyright 2002 Xilinx, Inc.  All rights reserved.
--
-- $Id: sid_turbo_v1_0.vhd,v 1.1 2010-07-10 21:43:22 mmartinez Exp $
--
------------------------------------------------------------------------------
--------------------------------------------------------------------------------

PACKAGE SID_CONST_PKG_BEHAV_TURBO_V1_0 IS CONSTANT II1IOOO1II0l1lOl00I1O001I00O0IIIII:INTEGER:=0;CONSTANT
 IO1lll0I0l0l1ll1O01Ol0III011IOIIII:INTEGER:=1;CONSTANT IOO0111OO0lOOl10l1l000l0OlI0IIIIII:INTEGER:=0;CONSTANT
 IIlO1lIIlOlOOO0l10OI1ll0I0O10IIIII:INTEGER:=1;CONSTANT IOOOlI0llOIl11IO01100OI1llOIIOIIII:INTEGER:=2;CONSTANT
 IO1IOOl1111OI1OOII1IOl0lIIIIOIIIII:INTEGER:=0;CONSTANT II1001IO0010Oll1I01lOI0I0IlIOIIIII:INTEGER:=1;CONSTANT
 IO110I1O0010OIOlIO00l1IIOl0llIIIII:INTEGER:=0;CONSTANT IIIOOIO01011011IOIIlllIIOO0l1IIIII:INTEGER:=1;CONSTANT
 II1IOOO00I0OI0O01I000O100llOOIIIII:INTEGER:=0;CONSTANT II00OI0110lI1II101lO1OO00I10OIIIII:INTEGER:=1;END;LIBRARY
 IEEE;USE IEEE.STD_LOGIC_1164.ALL;LIBRARY XILINXCORELIB;USE XILINXCORELIB.SID_CONST_PKG_BEHAV_TURBO_V1_0.ALL;PACKAGE
 SID_PKG_BEHAV_TURBO_V1_0 IS TYPE II00OIlIlO101I0IIOO0O1I0ll0OIIIIII IS ARRAY(NATURAL RANGE<>)OF INTEGER;FUNCTION IOOI1l1OO01O111lO010OlO1O0l0IIIIII(IO11OllII1lO110Ol0I0O00I01l00IIIII:STD_LOGIC_VECTOR)RETURN
 STD_LOGIC_VECTOR;FUNCTION III01lO1l00IOOO0O0I0O0I111O0IIIIII(IO1I1l01l1OI111Ol0IO10110I11IOIIII,IOOll1I1OOlO0lOO0IIII1lO11IIlIIIII:INTEGER)RETURN STD_LOGIC_VECTOR;FUNCTION
 IIIOI11O0OO00OllOllO00lOI000IOIIII(IIOIOOO11l0lO001OI10I0IIIIlIIIIIII:IN STD_LOGIC_VECTOR)RETURN NATURAL;FUNCTION II0IO0I0Olll01OOO0lIOO01lOlIOOIIII(IOO10IlOOIIIlOIO1IOI1l1lOIIlOIIIII:INTEGER;II0l0OlOIIIO1I0IOlIIllOIOO10lIIIII:INTEGER;IO0lIOlI0II1000IOlOIlOI1lIlOOIIIII:BOOLEAN)RETURN
 INTEGER;END;PACKAGE BODY SID_PKG_BEHAV_TURBO_V1_0 IS FUNCTION IOOI1l1OO01O111lO010OlO1O0l0IIIIII(IO11OllII1lO110Ol0I0O00I01l00IIIII:STD_LOGIC_VECTOR)RETURN STD_LOGIC_VECTOR IS VARIABLE
 IO0O10O101OOIOOl10lIIO101lIIIIIIII:STD_LOGIC_VECTOR(IO11OllII1lO110Ol0I0O00I01l00IIIII'HIGH DOWNTO 0);VARIABLE IIOl10001I1Ol001OIO01IO1II10OIIIII:INTEGER:=0;BEGIN FOR IIIO0lOII1OIlOOIO1IlI1lIIO001IIIII IN 0 TO IO11OllII1lO110Ol0I0O00I01l00IIIII'HIGH LOOP IF(IIOl10001I1Ol001OIO01IO1II10OIIIII=1)THEN IF(
IO11OllII1lO110Ol0I0O00I01l00IIIII(IIIO0lOII1OIlOOIO1IlI1lIIO001IIIII)='0')THEN IO0O10O101OOIOOl10lIIO101lIIIIIIII(IIIO0lOII1OIlOOIO1IlI1lIIO001IIIII):='1';ELSE IO0O10O101OOIOOl10lIIO101lIIIIIIII(IIIO0lOII1OIlOOIO1IlI1lIIO001IIIII):='0';END IF;ELSE IO0O10O101OOIOOl10lIIO101lIIIIIIII(IIIO0lOII1OIlOOIO1IlI1lIIO001IIIII):=IO11OllII1lO110Ol0I0O00I01l00IIIII(IIIO0lOII1OIlOOIO1IlI1lIIO001IIIII);IF(IO11OllII1lO110Ol0I0O00I01l00IIIII(IIIO0lOII1OIlOOIO1IlI1lIIO001IIIII)='1')THEN IIOl10001I1Ol001OIO01IO1II10OIIIII:=1;END IF
;END IF;END LOOP;RETURN IO0O10O101OOIOOl10lIIO101lIIIIIIII;END;FUNCTION III01lO1l00IOOO0O0I0O0I111O0IIIIII(IO1I1l01l1OI111Ol0IO10110I11IOIIII,IOOll1I1OOlO0lOO0IIII1lO11IIlIIIII:INTEGER)RETURN STD_LOGIC_VECTOR IS
 VARIABLE IIIIl1100lOI0I1OO1I00OlI0l10IIIIII:INTEGER:=IO1I1l01l1OI111Ol0IO10110I11IOIIII;VARIABLE IOlI00I100IOOOl011O11IOI1l010IIIII:STD_LOGIC_VECTOR(IOOll1I1OOlO0lOO0IIII1lO11IIlIIIII-1 DOWNTO 0);BEGIN IF(IO1I1l01l1OI111Ol0IO10110I11IOIIII<0)THEN
 IIIIl1100lOI0I1OO1I00OlI0l10IIIIII:=-1*IO1I1l01l1OI111Ol0IO10110I11IOIIII;END IF;FOR IIIO1O1110Oll10OI110OIIO111OOIIIII IN 0 TO IOOll1I1OOlO0lOO0IIII1lO11IIlIIIII-1 LOOP IF IIIIl1100lOI0I1OO1I00OlI0l10IIIIII MOD 2=0 THEN IOlI00I100IOOOl011O11IOI1l010IIIII(IIIO1O1110Oll10OI110OIIO111OOIIIII):='0';ELSE
 IOlI00I100IOOOl011O11IOI1l010IIIII(IIIO1O1110Oll10OI110OIIO111OOIIIII):='1';END IF;IIIIl1100lOI0I1OO1I00OlI0l10IIIIII:=IIIIl1100lOI0I1OO1I00OlI0l10IIIIII/2;END LOOP;IF(IO1I1l01l1OI111Ol0IO10110I11IOIIII<0)THEN RETURN IOOI1l1OO01O111lO010OlO1O0l0IIIIII(IOlI00I100IOOOl011O11IOI1l010IIIII);ELSE RETURN
 IOlI00I100IOOOl011O11IOI1l010IIIII;END IF;END;FUNCTION IIIOI11O0OO00OllOllO00lOI000IOIIII(IIOIOOO11l0lO001OI10I0IIIIlIIIIIII:IN STD_LOGIC_VECTOR)RETURN NATURAL IS VARIABLE IIl0OIlO00I0lI101l1I0lO1II0IlIIIII:NATURAL
:=0;VARIABLE IOIlII1I0O0l1l1O110O0IOlO0O1lIIIII:BOOLEAN:=FALSE;BEGIN FOR II11I0011I0IIIl0100l1O01O01O0IIIII IN IIOIOOO11l0lO001OI10I0IIIIlIIIIIII'RANGE LOOP IIl0OIlO00I0lI101l1I0lO1II0IlIIIII:=IIl0OIlO00I0lI101l1I0lO1II0IlIIIII*2;IF(IIOIOOO11l0lO001OI10I0IIIIlIIIIIII(II11I0011I0IIIl0100l1O01O01O0IIIII)='1'OR IIOIOOO11l0lO001OI10I0IIIIlIIIIIII(II11I0011I0IIIl0100l1O01O01O0IIIII)='H')THEN IIl0OIlO00I0lI101l1I0lO1II0IlIIIII
:=IIl0OIlO00I0lI101l1I0lO1II0IlIIIII+1;ELSIF(IIOIOOO11l0lO001OI10I0IIIIlIIIIIII(II11I0011I0IIIl0100l1O01O01O0IIIII)/='0'AND IIOIOOO11l0lO001OI10I0IIIIlIIIIIII(II11I0011I0IIIl0100l1O01O01O0IIIII)/='L')THEN IOIlII1I0O0l1l1O110O0IOlO0O1lIIIII:=TRUE;END IF;END LOOP;IF IOIlII1I0O0l1l1O110O0IOlO0O1lIIIII THEN ASSERT FALSE REPORT
"ERROR: std_logic_vector_to_natural: There is a non-numeric bit in the argument."&" It has been converted to 0."SEVERITY WARNING;END
 IF;RETURN IIl0OIlO00I0lI101l1I0lO1II0IlIIIII;END;FUNCTION II0IO0I0Olll01OOO0lIOO01lOlIOOIIII(IOO10IlOOIIIlOIO1IOI1l1lOIIlOIIIII:INTEGER;II0l0OlOIIIO1I0IOlIIllOIOO10lIIIII:INTEGER;IO0lIOlI0II1000IOlOIlOI1lIlOOIIIII:BOOLEAN)RETURN INTEGER IS BEGIN IF IO0lIOlI0II1000IOlOIlOI1lIlOOIIIII THEN RETURN II0l0OlOIIIO1I0IOlIIllOIOO10lIIIII;ELSE
 RETURN IOO10IlOOIIIlOIO1IOI1l1lOIIlOIIIII;END IF;END;END;LIBRARY IEEE;USE IEEE.STD_LOGIC_1164.ALL;LIBRARY XILINXCORELIB;USE XILINXCORELIB.
SID_CONST_PKG_BEHAV_TURBO_V1_0.ALL;USE XILINXCORELIB.SID_PKG_BEHAV_TURBO_V1_0.ALL;ENTITY SID_TURBO_V1_0 IS GENERIC(C_FAMILY_INT:
INTEGER:=II1IOOO1II0l1lOl00I1O001I00O0IIIII;C_MEM_INIT_PREFIX:STRING:="sid1";C_MODE:INTEGER:=
II1IOOO00I0OI0O01I000O100llOOIIIII;C_SYMBOL_WIDTH:INTEGER:=1;C_HAS_EXTERNAL_RAM:INTEGER:=1;C_MEMSTYLE:INTEGER:=
IIlO1lIIlOlOOO0l10OI1ll0I0O10IIIII;C_PIPE_LEVEL:INTEGER:=IO1IOOl1111OI1OOII1IOl0lIIIIOIIIII;C_SIMULTANEOUS_BLOCKS:
INTEGER:=1;C_CONTINUOUS_MODE:INTEGER:=0;C_HAS_FRAME_BUFFER:INTEGER:=0;C_ENABLE_RLOCS:INTEGER:=1;C_HAS_CE:INTEGER:=0;C_HAS_ND:INTEGER
:=0;C_HAS_SCLR:INTEGER:=0;C_HAS_ACLR:INTEGER:=0;C_HAS_RDY:INTEGER:=0;C_HAS_RFFD:INTEGER:=0;C_HAS_RFD:INTEGER:=0;
C_HAS_BLOCK_SIZE_VALID:INTEGER:=0;C_HAS_BLOCK_START:INTEGER:=0;C_HAS_BLOCK_END:INTEGER:=0);PORT(CLK:IN STD_LOGIC:='0';FD:IN
 STD_LOGIC:='0';BLOCK_SIZE_SEL:IN STD_LOGIC_VECTOR(3 DOWNTO 0):=(OTHERS=>'0');DIN:IN STD_LOGIC_VECTOR((C_SYMBOL_WIDTH-1)DOWNTO 0);CE
:IN STD_LOGIC:='1';ND:IN STD_LOGIC:='1';SCLR:IN STD_LOGIC:='0';ACLR:IN STD_LOGIC:='0';BLOCK_SIZE_VALID:OUT STD_LOGIC;RFD:OUT
 STD_LOGIC;RFFD:OUT STD_LOGIC;IADDR:OUT STD_LOGIC_VECTOR(14 DOWNTO 0);DOUT:OUT STD_LOGIC_VECTOR((C_SYMBOL_WIDTH-1)DOWNTO 0);
FRAME_BUFFER_DOUT:OUT STD_LOGIC_VECTOR((C_SYMBOL_WIDTH-1)DOWNTO 0);RDY:OUT STD_LOGIC;BLOCK_START:OUT STD_LOGIC;BLOCK_END:OUT
 STD_LOGIC;RAM_WE:OUT STD_LOGIC;RAM_DIN:OUT STD_LOGIC_VECTOR((C_SYMBOL_WIDTH-1)DOWNTO 0);RAM_ADDRA:OUT STD_LOGIC_VECTOR(14 DOWNTO 0
);RAM_DOUTA:IN STD_LOGIC_VECTOR((C_SYMBOL_WIDTH-1)DOWNTO 0);RAM_ADDRB:OUT STD_LOGIC_VECTOR(14 DOWNTO 0);RAM_DOUTB:IN
 STD_LOGIC_VECTOR((C_SYMBOL_WIDTH-1)DOWNTO 0));END;ARCHITECTURE BEHAVIORAL OF SID_TURBO_V1_0 IS CONSTANT II011lO0O1l10O0I0OIOO000I0O1IOIIII:BOOLEAN:=C_MODE=0
;CONSTANT IO1IIIl1OO00II0ll110l0l0IIO0lIIIII:BOOLEAN:=C_MODE=0 AND C_CONTINUOUS_MODE=1 AND C_HAS_FRAME_BUFFER=1;CONSTANT IIlOllOOI0ll11O1101IIl0l11ll1IIIII:INTEGER:=4+
II0IO0I0Olll01OOO0lIOO01lOlIOOIIII(0,2,C_MODE=0 AND C_CONTINUOUS_MODE=0)+II0IO0I0Olll01OOO0lIOO01lOlIOOIIII(0,2,C_PIPE_LEVEL=II1001IO0010Oll1I01lOI0I0IlIOIIIII AND
 C_FAMILY_INT=IO1lll0I0l0l1ll1O01Ol0III011IOIIII)+II0IO0I0Olll01OOO0lIOO01lOlIOOIIII(0,4,C_PIPE_LEVEL=II1001IO0010Oll1I01lOI0I0IlIOIIIII AND
 C_FAMILY_INT=II1IOOO1II0l1lOl00I1O001I00O0IIIII);CONSTANT II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII:INTEGER:=IIlOllOOI0ll11O1101IIl0l11ll1IIIII+II0IO0I0Olll01OOO0lIOO01lOlIOOIIII(0,1,
II011lO0O1l10O0I0OIOO000I0O1IOIIII)+II0IO0I0Olll01OOO0lIOO01lOlIOOIIII(0,2,IO1IIIl1OO00II0ll110l0l0IIO0lIIIII);CONSTANT III1OO10l11110IO1IO0lOII0OO11IIIII:INTEGER:=IIlOllOOI0ll11O1101IIl0l11ll1IIIII-1;CONSTANT
 IO1O1llOO0IlllI1O1OlOI010l1IIIIIII:INTEGER:=III1OO10l11110IO1IO0lOII0OO11IIIII;CONSTANT IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII:TIME:=1 NS;CONSTANT II1IO01lI1IO1OII11O1II01I0llIOIIII:INTEGER:=10;CONSTANT
 II1lIII001001Il0l0OOl0I00I01IIIIII:INTEGER:=2**(II1IO01lI1IO1OII11O1II01I0llIOIIII+5);CONSTANT II0O0l0l00OIOl0Ol101Il1Ol0I1lIIIII:INTEGER:=II0IO0I0Olll01OOO0lIOO01lOlIOOIIII(0,1,C_MODE=1)+II0IO0I0Olll01OOO0lIOO01lOlIOOIIII(0,
II1lIII001001Il0l0OOl0I00I01IIIIII,C_MODE=0 AND C_CONTINUOUS_MODE=0)+II0IO0I0Olll01OOO0lIOO01lOlIOOIIII(0,2*II1lIII001001Il0l0OOl0I00I01IIIIII,C_MODE=0 AND C_CONTINUOUS_MODE=1
);CONSTANT IOII100I0I1l010IOI1lO1O1I1101IIIII:INTEGER:=II1lIII001001Il0l0OOl0I00I01IIIIII;SUBTYPE IOO10OI11Il110I11IIIIIOIO10OlIIIII IS STD_LOGIC_VECTOR(C_SYMBOL_WIDTH-1 DOWNTO 0);SUBTYPE
 IOO1I1lI11Ol1l1OOlllIIII1l1IOIIIII IS NATURAL RANGE 0 TO II0O0l0l00OIOl0Ol101Il1Ol0I1lIIIII-1;TYPE IOl0l10lI11IO10lI1OI1IOI01OO0IIIII IS ARRAY(0 TO II0O0l0l00OIOl0Ol101Il1Ol0I1lIIIII-1)OF IOO10OI11Il110I11IIIIIOIO10OlIIIII;TYPE IOO1l1010O10O10I0llO11O100O1IOIIII IS
 ARRAY(0 TO 223)OF NATURAL;TYPE IOIlOIOl1lO1l001Ol10IO01OIlI1IIIII IS ARRAY(0 TO II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII)OF IOO10OI11Il110I11IIIIIOIO10OlIIIII;TYPE II0IOOI1Il101lO1O010O0O0IO10IOIIII IS ARRAY(0 TO
 IO1O1llOO0IlllI1O1OlOI010l1IIIIIII)OF IOO10OI11Il110I11IIIIIOIO10OlIIIII;TYPE IO1lIIIOl1IIIO1O1lllOO0I1lO0OIIIII IS ARRAY(0 TO II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII)OF IOO1I1lI11Ol1l1OOlllIIII1l1IOIIIII;TYPE IOOIOOI00l1OOOlI1OOO0I00Ol0IlIIIII IS ARRAY(0 TO
 II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII)OF NATURAL;TYPE II111OIOII1IIOOOlO1I011OI0I0lIIIII IS(INITIAL,IDLE,WRITING,WRITING_LAST,READING_0,READING,READING_LAST,WRITE_DONE
,READ_DONE);SIGNAL III0OI0OlIOOl1Ol1I0l00O0lI1IIIIIII:STD_LOGIC;SIGNAL IIIIlI10IO0IlIll11O0O1OII0OIIOIIII:STD_LOGIC;SIGNAL IIIO10O1ll1l0O0IOl0l1lllO0lI1IIIII:STD_LOGIC:='0';SIGNAL IIIlOO0OOl101Ol0Oll10O1lOIIO0IIIII:STD_LOGIC:='0';SIGNAL
 IIl1O1I0001l1001OllOOII0I10l1IIIII:STD_LOGIC;SIGNAL IIlIlll0III10I0Il0I0OOOIOIIOOIIIII:STD_LOGIC;SIGNAL IOOI10l0O1lIlIll00Ol1lll10IIIIIIII:STD_LOGIC;SIGNAL IO0OOOI1IIIlIOIIOO0Il00I1lOOlIIIII:STD_LOGIC;SIGNAL IOl0I10010lIIIl000I1O1IO1IlOIIIIII:STD_LOGIC
;SIGNAL IOl1I1O0IIO001llOlll1I1lOI1l0IIIII:STD_LOGIC;SIGNAL IOl1Ol11IlIl0110l0OOll000lI11IIIII:STD_LOGIC;SIGNAL II001Il0III1O1OI001IOI100000OIIIII:STD_LOGIC_VECTOR(14 DOWNTO 0);SIGNAL IOOl0llO0OI110111OIOlOIO0lOOIOIIII:
IOO10OI11Il110I11IIIIIOIO10OlIIIII;SIGNAL II1IOO1l1I11I1ll1OI1I00lII000IIIII:IOO10OI11Il110I11IIIIIOIO10OlIIIII;SIGNAL II0II1IO1I0IOIl0ll1I0O00lIIOOIIIII:IOO10OI11Il110I11IIIIIOIO10OlIIIII;SIGNAL IOOl0IOOO1011llOIOl01lIOI0O11IIIII:STD_LOGIC:='0';SIGNAL
 IIOlOO00Ol0011IIIIIO1I1lllIO0IIIII:STD_LOGIC:='0';SIGNAL II1I0O0100lIIII11lI00l0OOII0lIIIII:STD_LOGIC;SIGNAL IIOIOI0lO1lO100O11Il0OII11OlOIIIII:STD_LOGIC_VECTOR(14 DOWNTO 0);SIGNAL
 IO0IlO1lI10Il011101l101IIl0IOIIIII:STD_LOGIC_VECTOR(14 DOWNTO 0);BEGIN DOUT_PROC:PROCESS(IOOl0llO0OI110111OIOlOIO0lOOIOIIII,RAM_DOUTA,IOl0I10010lIIIl000I1O1IO1IlOIIIIII)VARIABLE IOI1O00I10101l0I1001llOOI0I0IOIIII:IOO10OI11Il110I11IIIIIOIO10OlIIIII;BEGIN
 IF C_MODE=II1IOOO00I0OI0O01I000O100llOOIIIII THEN IF IOl0I10010lIIIl000I1O1IO1IlOIIIIII='1'THEN IF C_CONTINUOUS_MODE=0 AND C_HAS_EXTERNAL_RAM/=0
 THEN IOI1O00I10101l0I1001llOOI0I0IOIIII:=RAM_DOUTA;ELSE IOI1O00I10101l0I1001llOOI0I0IOIIII:=IOOl0llO0OI110111OIOlOIO0lOOIOIIII;END IF;ELSE IOI1O00I10101l0I1001llOOI0I0IOIIII:=(OTHERS=>'X');END IF;DOUT<=IOI1O00I10101l0I1001llOOI0I0IOIIII AFTER IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII;ELSE DOUT<=(
OTHERS=>'U');END IF;END PROCESS;FB_DOUT_PROC:PROCESS(II1IOO1l1I11I1ll1OI1I00lII000IIIII,RAM_DOUTB,IOl0I10010lIIIl000I1O1IO1IlOIIIIII)VARIABLE IIOIO000I1OI0OlOI1OIOI1l0I0l1IIIII:IOO10OI11Il110I11IIIIIOIO10OlIIIII;BEGIN IF C_MODE=
II1IOOO00I0OI0O01I000O100llOOIIIII AND C_HAS_FRAME_BUFFER/=0 THEN IF IOl0I10010lIIIl000I1O1IO1IlOIIIIII='1'THEN IF C_CONTINUOUS_MODE=0 AND
 C_HAS_EXTERNAL_RAM/=0 THEN IIOIO000I1OI0OlOI1OIOI1l0I0l1IIIII:=RAM_DOUTB;ELSE IIOIO000I1OI0OlOI1OIOI1l0I0l1IIIII:=II1IOO1l1I11I1ll1OI1I00lII000IIIII;END IF;ELSE IIOIO000I1OI0OlOI1OIOI1l0I0l1IIIII:=(OTHERS=>'X');END IF;
FRAME_BUFFER_DOUT<=IIOIO000I1OI0OlOI1OIOI1l0I0l1IIIII AFTER IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII;ELSE FRAME_BUFFER_DOUT<=(OTHERS=>'U');END IF;END PROCESS;RAM_DIN_PROC:PROCESS(
II0II1IO1I0IOIl0ll1I0O00lIIOOIIIII,II1I0O0100lIIII11lI00l0OOII0lIIIII)VARIABLE IO1Il1I0OOOOIl0IOO011l1I0111OIIIII:IOO10OI11Il110I11IIIIIOIO10OlIIIII;BEGIN IF C_MODE=II1IOOO00I0OI0O01I000O100llOOIIIII AND
 C_CONTINUOUS_MODE=0 AND C_HAS_EXTERNAL_RAM/=0 THEN IF II1I0O0100lIIII11lI00l0OOII0lIIIII='1'THEN IO1Il1I0OOOOIl0IOO011l1I0111OIIIII:=II0II1IO1I0IOIl0ll1I0O00lIIOOIIIII;ELSE IO1Il1I0OOOOIl0IOO011l1I0111OIIIII:=(OTHERS=>'X');
END IF;RAM_DIN<=IO1Il1I0OOOOIl0IOO011l1I0111OIIIII AFTER IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII;ELSE RAM_DIN<=(OTHERS=>'U');END IF;END PROCESS;IADDR_PROC:PROCESS(II001Il0III1O1OI001IOI100000OIIIII,IOl0I10010lIIIl000I1O1IO1IlOIIIIII)
VARIABLE IO0l0IOllOl1100O10O1O1l0lIO1OIIIII:STD_LOGIC_VECTOR(14 DOWNTO 0);BEGIN IF C_MODE=II1IOOO00I0OI0O01I000O100llOOIIIII THEN IADDR<=(OTHERS=>'U'
);ELSE IF IOl0I10010lIIIl000I1O1IO1IlOIIIIII='1'THEN IO0l0IOllOl1100O10O1O1l0lIO1OIIIII:=II001Il0III1O1OI001IOI100000OIIIII;ELSE IO0l0IOllOl1100O10O1O1l0lIO1OIIIII:=(OTHERS=>'X');IO0l0IOllOl1100O10O1O1l0lIO1OIIIII:=(OTHERS=>'0');IO0l0IOllOl1100O10O1O1l0lIO1OIIIII(7 DOWNTO 0):="11111010";END
 IF;IADDR<=IO0l0IOllOl1100O10O1O1l0lIO1OIIIII AFTER IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII;END IF;END PROCESS;EXT_RAM_PROC:PROCESS(IOOl0IOOO1011llOIOl01lIOI0O11IIIII,IIOlOO00Ol0011IIIIIO1I1lllIO0IIIII,
IIOIOI0lO1lO100O11Il0OII11OlOIIIII,IO0IlO1lI10Il011101l101IIl0IOIIIII,II1I0O0100lIIII11lI00l0OOII0lIIIII)VARIABLE IIlOO000I01110Ill0l1OI1l10IOIOIIII:STD_LOGIC_VECTOR(14 DOWNTO 0);VARIABLE II1011O1IO1l0llOI11lIIOIlOlIlIIIII:
STD_LOGIC_VECTOR(14 DOWNTO 0);VARIABLE IOO0I1l1IOO0II0O00I0IllOOI1OOIIIII:STD_LOGIC;BEGIN IF IOOl0IOOO1011llOIOl01lIOI0O11IIIII='1'THEN IIlOO000I01110Ill0l1OI1l10IOIOIIII:=IIOIOI0lO1lO100O11Il0OII11OlOIIIII
;ELSE IIlOO000I01110Ill0l1OI1l10IOIOIIII:=(OTHERS=>'X');END IF;IF IIOlOO00Ol0011IIIIIO1I1lllIO0IIIII='1'THEN II1011O1IO1l0llOI11lIIOIlOlIlIIIII:=IO0IlO1lI10Il011101l101IIl0IOIIIII;ELSE II1011O1IO1l0llOI11lIIOIlOlIlIIIII:=(
OTHERS=>'X');END IF;IOO0I1l1IOO0II0O00I0IllOOI1OOIIIII:=II1I0O0100lIIII11lI00l0OOII0lIIIII;IF C_HAS_EXTERNAL_RAM=0 THEN RAM_ADDRB<=(OTHERS=>'U');RAM_ADDRA<=(OTHERS=>'U');
RAM_WE<='U';ELSE RAM_ADDRA<=IIlOO000I01110Ill0l1OI1l10IOIOIIII AFTER IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII;RAM_WE<=IOO0I1l1IOO0II0O00I0IllOOI1OOIIIII AFTER IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII;IF C_HAS_FRAME_BUFFER=0 THEN
 RAM_ADDRB<=(OTHERS=>'U');ELSE RAM_ADDRB<=II1011O1IO1l0llOI11lIIOIlOlIlIIIII AFTER IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII;END IF;END IF;END PROCESS;CE_PROC:PROCESS(CE)BEGIN IF
 C_HAS_CE/=0 THEN III0OI0OlIOOl1Ol1I0l00O0lI1IIIIIII<=CE;ELSE III0OI0OlIOOl1Ol1I0l00O0lI1IIIIIII<='1';END IF;END PROCESS;SCLR_PROC:PROCESS(SCLR)BEGIN IF C_HAS_SCLR/=0 THEN IIIIlI10IO0IlIll11O0O1OII0OIIOIIII<=SCLR;
ELSE IIIIlI10IO0IlIll11O0O1OII0OIIOIIII<='0';END IF;END PROCESS;POWERUP:PROCESS BEGIN IIIO10O1ll1l0O0IOl0l1lllO0lI1IIIII<='1'AFTER 1 NS;WAIT;END PROCESS;ACLR_PROC:PROCESS(IIIO10O1ll1l0O0IOl0l1lllO0lI1IIIII,ACLR)BEGIN
 IF C_HAS_ACLR/=0 THEN IIIlOO0OOl101Ol0Oll10O1lOIIO0IIIII<=ACLR OR NOT IIIO10O1ll1l0O0IOl0l1lllO0lI1IIIII;ELSE IIIlOO0OOl101Ol0Oll10O1lOIIO0IIIII<=NOT IIIO10O1ll1l0O0IOl0l1lllO0lI1IIIII;END IF;END PROCESS;OPTIONAL_RDY:PROCESS(IOl0I10010lIIIl000I1O1IO1IlOIIIIII)BEGIN
 IF C_HAS_RDY/=0 THEN RDY<=IOl0I10010lIIIl000I1O1IO1IlOIIIIII AFTER IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII;ELSE RDY<='U';END IF;END PROCESS;OPTIONAL_BLOCK_START:PROCESS(IOl1I1O0IIO001llOlll1I1lOI1l0IIIII
)BEGIN IF C_HAS_BLOCK_START=0 THEN BLOCK_START<='U';ELSE BLOCK_START<=IOl1I1O0IIO001llOlll1I1lOI1l0IIIII AFTER IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII;END IF;END PROCESS;
OPTIONAL_BLOCK_END:PROCESS(IOl1Ol11IlIl0110l0OOll000lI11IIIII)BEGIN IF C_HAS_BLOCK_END=0 THEN BLOCK_END<='U';ELSE BLOCK_END<=IOl1Ol11IlIl0110l0OOll000lI11IIIII AFTER
 IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII;END IF;END PROCESS;OPTIONAL_RFD:PROCESS(IOOI10l0O1lIlIll00Ol1lll10IIIIIIII)BEGIN IF C_MODE/=II1IOOO00I0OI0O01I000O100llOOIIIII OR
 C_HAS_RFD=0 THEN RFD<='U';ELSE RFD<=IOOI10l0O1lIlIll00Ol1lll10IIIIIIII AFTER IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII;END IF;END PROCESS;OPTIONAL_RFFD:PROCESS(IO0OOOI1IIIlIOIIOO0Il00I1lOOlIIIII)BEGIN IF
 C_HAS_RFFD/=0 THEN RFFD<=IO0OOOI1IIIlIOIIOO0Il00I1lOOlIIIII AFTER IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII;ELSE RFFD<='U';END IF;END PROCESS;ND_PROC:PROCESS(ND)BEGIN IF C_MODE=
II1IOOO00I0OI0O01I000O100llOOIIIII THEN IF C_HAS_ND/=0 THEN IIl1O1I0001l1001OllOOII0I10l1IIIII<=ND;ELSE IIl1O1I0001l1001OllOOII0I10l1IIIII<='1';END IF;ELSE IIl1O1I0001l1001OllOOII0I10l1IIIII<='X';END IF;END
 PROCESS;OPTIONAL_BLOCK_SIZE_VALID:PROCESS(IIlIlll0III10I0Il0I0OOOIOIIOOIIIII)BEGIN IF C_HAS_BLOCK_SIZE_VALID/=0 THEN BLOCK_SIZE_VALID<=
IIlIlll0III10I0Il0I0OOOIOIIOOIIIII AFTER IO1O0llO0I1lI11I1O10I0l1O0l0IIIIII;ELSE BLOCK_SIZE_VALID<='U';END IF;END PROCESS;SMEM_PROC:PROCESS(CLK,IIIlOO0OOl101Ol0Oll10O1lOIIO0IIIII)CONSTANT IOI01l1I0000lIO0IIO01IlIO1001IIIII
:BOOLEAN:=TRUE;CONSTANT IOI0IIll0I0l1IO0I01lO110IIIIIOIIII:BOOLEAN:=NOT IOI01l1I0000lIO0IIO01IlIO1001IIIII;CONSTANT IO00l1I0I1IOlII011Il0l0lOI0OIIIIII:IOO1l1010O10O10I0llO11O100O1IOIIII:=(5,15,5,15,1,9,9,15,13,15,7,11,15,3,15,5,13,15,9
,3,1,3,15,1,13,1,9,15,11,3,15,5,27,3,1,15,13,17,23,13,9,3,15,3,13,1,13,29,21,19,1,3,29,17,25,29,9,13,23,13,13,1,13,13,3,27,15,13,29
,5,1,31,3,9,15,31,17,5,39,1,19,27,15,13,45,5,33,15,13,9,15,31,17,5,15,33,15,127,89,1,31,15,61,47,127,17,119,15,57,123,95,5,85,17,55
,57,15,41,93,87,63,15,13,15,81,57,31,69,3,1,5,83,19,179,19,99,23,1,3,13,13,3,17,1,63,131,17,131,211,173,231,171,23,147,243,213,189,
51,15,67,13,335,87,15,15,1,333,11,13,1,121,155,1,175,421,5,509,215,47,425,295,229,427,83,409,387,193,57,501,313,489,391,1,349,303,
721,973,703,761,327,453,95,241,187,497,909,769,349,71,557,197,499,409,259,335,253,677,717,313,757,189,15,75,163);VARIABLE
 IO01l1ll0IlOll0I00lll11l0OllIIIIII:II111OIOII1IIOOOlO1I011OI0I0lIIIII;VARIABLE IOI11IOIlOI1II1Il11OlI01Illl0IIIII:II111OIOII1IIOOOlO1I011OI0I0lIIIII;VARIABLE IIlO0IOl0I0I0lI0OOll1l1l1lO0IIIIII:IOl0l10lI11IO10lI1OI1IOI01OO0IIIII:=(OTHERS=>(OTHERS=>'0'));VARIABLE IOlIOOI0O1OIlOl01O0OIII10O11lIIIII
:IOIlOIOl1lO1l001Ol10IO01OIlI1IIIII;VARIABLE IO1OIOI0I1l11O0IllIOllII1llIIOIIII:IOIlOIOl1lO1l001Ol10IO01OIlI1IIIII;VARIABLE IIOOO0OOIll110IlI1111I1001I01IIIII:STD_LOGIC;VARIABLE IO00lII1lIll0OllOlI1l1O0OI100IIIII:STD_LOGIC;VARIABLE IIII1llIll1l01O1l1O0OIlO1l00OIIIII:
STD_LOGIC;VARIABLE II10ll00IlO1IIOIOIO10II0lI1l0IIIII:STD_LOGIC;VARIABLE IOIIOIIO1lIIOOl0IlO11I00II110IIIII:STD_LOGIC;VARIABLE II0Ol0OI111lIO001O0IIlO110IlIOIIII:STD_LOGIC;VARIABLE II1ll00lO01110lOI1I0IOO0IlO0IIIIII:STD_LOGIC;VARIABLE
 IO0I011OOl0OOO000O0I0O0OO0OllIIIII:STD_LOGIC;VARIABLE IO1OllI0IIll0OIOI1l01I010OOIOOIIII:STD_LOGIC;VARIABLE IIOl11l1l101llOl0l0l101I1O1llIIIII:STD_LOGIC_VECTOR(0 TO II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII);VARIABLE
 III1O0Ol0IOOO0IllIOOO000O1lO0IIIII:STD_LOGIC_VECTOR(0 TO II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII);VARIABLE IIl1IIO111llI0l1O1OI00lIl1I0OIIIII:STD_LOGIC_VECTOR(0 TO II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII
);VARIABLE IIIOOI1II1O11lOIOlOIlOOII1010IIIII:II0IOOI1Il101lO1O010O0O0IO10IOIIII;VARIABLE IO0I0I00IO00I1O0I0O0OIOOOI11IOIIII:STD_LOGIC_VECTOR(0 TO II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII);VARIABLE
 IIlIOIlO1lO1l1I0OOOI1O1l0O0IOIIIII:STD_LOGIC_VECTOR(0 TO II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII);VARIABLE IOOI0OO0l1O1O000lO10OOllOIIIIOIIII:STD_LOGIC_VECTOR(0 TO
 II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII);VARIABLE IO1IllOO0II1ll1OII0OOO10OO0I1IIIII:IOOIOOI00l1OOOlI1OOO0I00Ol0IlIIIII;VARIABLE IOOll1I1OO10IlOI0lOO1lOl1O10IOIIII:IOOIOOI00l1OOOlI1OOO0I00Ol0IlIIIII;VARIABLE IOOIOOO1OIO1O0OIIOlOOIOlI1l1lIIIII:IOOIOOI00l1OOOlI1OOO0I00Ol0IlIIIII;
VARIABLE II10110Oll1OOlIOlOlIl01111IlOIIIII:NATURAL;VARIABLE IOIO00lO11l0IOO1l0I101I11l1OOIIIII:BOOLEAN:=TRUE;VARIABLE IIIIl0I1lO1llIOIOOO1lOl11IIlOIIIII:NATURAL:=1048;VARIABLE II0l0O0IOlIOI00OIl0IlOlI01OI1IIIII:
NATURAL:=378;VARIABLE IIlO0l11I10OOIl000I0OOIO0IO0IIIIII:NATURAL:=378;VARIABLE IIOIOOI1ll1O0I1011l0O1lI0IllIOIIII:NATURAL RANGE 4 TO 10:=4;VARIABLE
 IOIlllIIlI1OlI0l101llI0II1O1IOIIII:NATURAL RANGE 9 TO 15:=9;VARIABLE IOO0IO0OOOOO0I10II0llO10ll1OlIIIII:NATURAL:=999;VARIABLE IIlIII1OIIl0OOl00I0IlOOI1IIlOIIIII:NATURAL
 RANGE 4 TO 10:=4;VARIABLE IOl10OI01O100l1IIIl0IIl1lO10lIIIII:NATURAL RANGE 9 TO 15:=9;VARIABLE IOI1l0OI1IO0llll1llO11Ol1IIlIIIIII:NATURAL;VARIABLE IO00l1II1l000l0I11O010I1IlOlIOIIII:IOO1I1lI11Ol1l1OOlllIIII1l1IOIIIII;
VARIABLE II0IO0O1III0I1I1OlI0011O001IOIIIII:NATURAL;VARIABLE IIl1OOO111O0O11l1OOllOIIIIIl0IIIII:NATURAL;VARIABLE IO00O1llIl1l1I1IIOl11OIlI1lIOOIIII:NATURAL;VARIABLE IOl1I001lIl1Il1I11lI00l11O1OOIIIII:NATURAL;VARIABLE
 IOlO1OI10Il1OllOl1IIOOIO0I1lIIIIII:IOO1I1lI11Ol1l1OOlllIIII1l1IOIIIII;VARIABLE III0l0O0I11OOO1lI0OOIO0llOlIlIIIII:NATURAL;VARIABLE IOO01101I01OlOIO111IIl0OOIOI0IIIII:NATURAL;VARIABLE II00l0IOI1lIlOlOOI0I011O1110OIIIII:NATURAL;VARIABLE IOIO1OI0IlI1I1010lO000IO01Ol0IIIII:
NATURAL;VARIABLE IIO00Il10lI0OOllOOO0lO11lOOlIOIIII:NATURAL;VARIABLE IIIIOOlIIO11011I1IlOO10OOOO0OIIIII:IOO10OI11Il110I11IIIIIOIO10OlIIIII;VARIABLE IIO0101IlI11I0IOlI01l1ll0O10OIIIII:IOO10OI11Il110I11IIIIIOIO10OlIIIII;VARIABLE IOl00OIO0IOOllO1I1O101lIIl11OIIIII:BOOLEAN
:=TRUE;VARIABLE IOl011Ol0O1Il1IIIIlIOlIl101IlIIIII:NATURAL:=0;VARIABLE IO00OI0ll1l1l0llI1I000OOO0010IIIII:NATURAL:=0;VARIABLE IOl0OIIOl0O00OO0lI0I0O1IO1OOIOIIII:NATURAL:=0;VARIABLE IOI0111Il0IllIIO0O0lO0I111010IIIII:NATURAL:=0;VARIABLE IOO0IOIOOll0Il0OlI001lIIIOOOIIIIII
:NATURAL:=0;VARIABLE IOO0llOIlIO0110l1lOO01I00l1OIIIIII:STD_LOGIC_VECTOR(4 DOWNTO 0);VARIABLE IOIO0OOIOIOl0OIllO011O11O0OOIIIIII:STD_LOGIC_VECTOR(4 DOWNTO 0);VARIABLE IO0lI0OlO11O10O1III000O01l0l0IIIII
:NATURAL:=0;VARIABLE IIO1O00llO01OII1I11lIIO001lI0IIIII:NATURAL:=0;VARIABLE IOIl1lI1IO111IO0OII101O1I0l0IOIIII:NATURAL:=0;VARIABLE IOOIOOOlO000O1I0lOI1OO01l0OOlIIIII:NATURAL:=0;VARIABLE IO01O100lOO0IOOI000OO1lIOO1l0IIIII:NATURAL:=0;VARIABLE
 IOl1100I00OlIllOI1I0III1O1l01IIIII:NATURAL:=0;VARIABLE IO1OlIO1l10Ill0O11IO0I0ll1OlIIIIII:STD_LOGIC_VECTOR(4 DOWNTO 0);VARIABLE IIOIlOO1lI01O10O1Ol0OOI10110OIIIII:STD_LOGIC_VECTOR(4 DOWNTO 0);VARIABLE
 IO0II1lll1llOlO1lll1001O1IlOIOIIII:NATURAL:=0;VARIABLE IOOO00lOlO0l0llI01lIlOOIIllIlIIIII:BOOLEAN:=TRUE;VARIABLE IIlIIII1lOllO0IlO11I1O01110IOIIIII:NATURAL;VARIABLE II0I1I1l00l1O11OOIOIIllII10IlIIIII:II111OIOII1IIOOOlO1I011OI0I0lIIIII;
VARIABLE III0lIIOOIOl0ll0ll0l1lO10IlIIIIIII:II111OIOII1IIOOOlO1I011OI0I0lIIIII;VARIABLE III010I1Ol1OlOI0IO10O0000II11IIIII:NATURAL:=0;VARIABLE IOIlOO00I1I00lO00l0I00OlIO01IIIIII:NATURAL:=0;VARIABLE
 IIO111Il00001lO0l00lOOlI1IO10IIIII:NATURAL:=0;VARIABLE II10IOlI11OOI1IO1OlI0IlI0I0I1IIIII:NATURAL:=0;VARIABLE IO1lO1OOOl00OOI0lOI1Ol1O1lI0IIIIII:STD_LOGIC:='0';VARIABLE IO0I10OO0llIIlII1I01OOI001IIIIIIII:
STD_LOGIC:='0';VARIABLE II110IlI0l101IO1IlI1O00llI00OIIIII:STD_LOGIC:='0';PROCEDURE III0O000IO1IOIO10l0I00lOIII11IIIII IS BEGIN IO01l1ll0IlOll0I00lll11l0OllIIIIII:=IDLE;IOI11IOIlOI1II1Il11OlI01Illl0IIIII:=IDLE;
IIlO0IOl0I0I0lI0OOll1l1l1lO0IIIIII:=(OTHERS=>(OTHERS=>'0'));IOlIOOI0O1OIlOl01O0OIII10O11lIIIII:=(OTHERS=>(OTHERS=>'0'));IO1OIOI0I1l11O0IllIOllII1llIIOIIII:=(OTHERS=>(OTHERS=>'0'));IIOl11l1l101llOl0l0l101I1O1llIIIII:=(OTHERS=>'0')
;III1O0Ol0IOOO0IllIOOO000O1lO0IIIII:=(OTHERS=>'0');IIl1IIO111llI0l1O1OI00lIl1I0OIIIII:=(OTHERS=>'0');IIIIOOlIIO11011I1IlOO10OOOO0OIIIII:=(OTHERS=>'0');IIO0101IlI11I0IOlI01l1ll0O10OIIIII:=(OTHERS=>'0');IIOOO0OOIll110IlI1111I1001I01IIIII:=
'0';IO00lII1lIll0OllOlI1l1O0OI100IIIII:='0';IIII1llIll1l01O1l1O0OIlO1l00OIIIII:='0';II0Ol0OI111lIO001O0IIlO110IlIOIIII:='0';IO1OllI0IIll0OIOI1l01I010OOIOOIIII:='1';IOI1l0OI1IO0llll1llO11Ol1IIlIIIIII:=0;IOl1I001lIl1Il1I11lI00l11O1OOIIIII:=0;IIl1OOO111O0O11l1OOllOIIIIIl0IIIII:=0;IO00O1llIl1l1I1IIOl11OIlI1lIOOIIII:=0;
IOO01101I01OlOIO111IIl0OOIOI0IIIII:=0;II00l0IOI1lIlOlOOI0I011O1110OIIIII:=0;IOIO1OI0IlI1I1010lO000IO01Ol0IIIII:=0;IIO00Il10lI0OOllOOO0lO11lOOlIOIIII:=0;IIlIlll0III10I0Il0I0OOOIOIIOOIIIII<='1';IOOI10l0O1lIlIll00Ol1lll10IIIIIIII<='1';IO0OOOI1IIIlIOIIOO0Il00I1lOOlIIIII<='1';IOl0I10010lIIIl000I1O1IO1IlOIIIIII<='0';
IOl1I1O0IIO001llOlll1I1lOI1l0IIIII<='0';IOl1Ol11IlIl0110l0OOll000lI11IIIII<='0';IIlIlll0III10I0Il0I0OOOIOIIOOIIIII<='0';IOOl0llO0OI110111OIOlOIO0lOOIOIIII<=(OTHERS=>'0');II1IOO1l1I11I1ll1OI1I00lII000IIIII<=(OTHERS=>'0');IOIIOIIO1lIIOOl0IlO11I00II110IIIII:='0';
IOOO00lOlO0l0llI01lIlOOIIllIlIIIII:=TRUE;END;PROCEDURE II1llIOlOlll00O010O1lI1IOI1I1IIIII IS BEGIN IF BLOCK_SIZE_SEL="1101"OR BLOCK_SIZE_SEL="1110"OR BLOCK_SIZE_SEL="1111"
OR BLOCK_SIZE_SEL="0000"THEN IOIO00lO11l0IOO1l0I101I11l1OOIIIII:=FALSE;ELSE IOIO00lO11l0IOO1l0I101I11l1OOIIIII:=TRUE;END IF;END;PROCEDURE IO1I11OIllI1III1III11OlIIlIIOIIIII IS BEGIN
 IOO0IO0OOOOO0I10II0llO10ll1OlIIIII:=II0l0O0IOlIOI00OIl0IlOlI01OI1IIIII;IIlIII1OIIl0OOl00I0IlOOI1IIlOIIIII:=IIOIOOI1ll1O0I1011l0O1lI0IllIOIIII;IOl10OI01O100l1IIIl0IIl1lO10lIIIII:=
IOIlllIIlI1OlI0l101llI0II1O1IOIIII;END;PROCEDURE IIl11lIlOO0IIII0IOlI0l1000I1IIIIII IS BEGIN IIlO0l11I10OOIl000I0OOIO0IO0IIIIII:=II0l0O0IOlIOI00OIl0IlOlI01OI1IIIII;CASE BLOCK_SIZE_SEL IS WHEN
"0001"=>II0l0O0IOlIOI00OIl0IlOlI01OI1IIIII:=378;IIOIOOI1ll1O0I1011l0O1lI0IllIOIIII:=4;WHEN"0010"=>II0l0O0IOlIOI00OIl0IlOlI01OI1IIIII:=570;IIOIOOI1ll1O0I1011l0O1lI0IllIOIIII
:=5;WHEN"0011"=>II0l0O0IOlIOI00OIl0IlOlI01OI1IIIII:=762;IIOIOOI1ll1O0I1011l0O1lI0IllIOIIII:=5;WHEN"0100"=>II0l0O0IOlIOI00OIl0IlOlI01OI1IIIII:=1146;
IIOIOOI1ll1O0I1011l0O1lI0IllIOIIII:=6;WHEN"0101"=>II0l0O0IOlIOI00OIl0IlOlI01OI1IIIII:=1530;IIOIOOI1ll1O0I1011l0O1lI0IllIOIIII:=6;WHEN"0110"=>
II0l0O0IOlIOI00OIl0IlOlI01OI1IIIII:=2298;IIOIOOI1ll1O0I1011l0O1lI0IllIOIIII:=7;WHEN"0111"=>II0l0O0IOlIOI00OIl0IlOlI01OI1IIIII:=3066;IIOIOOI1ll1O0I1011l0O1lI0IllIOIIII:=7;WHEN
"1000"=>II0l0O0IOlIOI00OIl0IlOlI01OI1IIIII:=4602;IIOIOOI1ll1O0I1011l0O1lI0IllIOIIII:=8;WHEN"1001"=>II0l0O0IOlIOI00OIl0IlOlI01OI1IIIII:=6138;IIOIOOI1ll1O0I1011l0O1lI0IllIOIIII
:=8;WHEN"1010"=>II0l0O0IOlIOI00OIl0IlOlI01OI1IIIII:=9210;IIOIOOI1ll1O0I1011l0O1lI0IllIOIIII:=9;WHEN"1011"=>II0l0O0IOlIOI00OIl0IlOlI01OI1IIIII:=12282;
IIOIOOI1ll1O0I1011l0O1lI0IllIOIIII:=9;WHEN"1100"=>II0l0O0IOlIOI00OIl0IlOlI01OI1IIIII:=20730;IIOIOOI1ll1O0I1011l0O1lI0IllIOIIII:=10;WHEN OTHERS=>
IIOIOOI1ll1O0I1011l0O1lI0IllIOIIII:=4;II0l0O0IOlIOI00OIl0IlOlI01OI1IIIII:=378;END CASE;IOIlllIIlI1OlI0l101llI0II1O1IOIIII:=IIOIOOI1ll1O0I1011l0O1lI0IllIOIIII+5;END;PROCEDURE
 IOOI10l11llO01llIIllOI1IO0l1OIIIII(IOO1IIll11IlI110IOlllI1Il1IO1IIIII:NATURAL;IOO000O0Ol1OlIOOI00l11I1l1I00IIIII:NATURAL;IIll0O11l1O1lOl111IIOlOIl0I0OIIIII:NATURAL)IS BEGIN IIO1O00llO01OII1I11lIIO001lI0IIIII:=IIll0O11l1O1lOl111IIOlOIl0I0OIIIII/32;IOIl1lI1IO111IO0OII101O1I0l0IOIIII:=(IIO1O00llO01OII1I11lIIO001lI0IIIII+1)MOD 2**IOO1IIll11IlI110IOlllI1Il1IO1IIIII;IOOIOOOlO000O1I0lOI1OO01l0OOlIIIII:=(IIll0O11l1O1lOl111IIOlOIl0I0OIIIII MOD
 32);IO01O100lOO0IOOI000OO1lIOO1l0IIIII:=IO00l1I0I1IOlII011Il0l0lOI0OIIIIII((IOO1IIll11IlI110IOlllI1Il1IO1IIIII-4)*32+IOOIOOOlO000O1I0lOI1OO01l0OOlIIIII);IOl1100I00OlIllOI1I0III1O1l01IIIII:=(IOIl1lI1IO111IO0OII101O1I0l0IOIIII*IO01O100lOO0IOOI000OO1lIOO1l0IIIII)MOD 2**IOO1IIll11IlI110IOlllI1Il1IO1IIIII;IO1OlIO1l10Ill0O11IO0I0ll1OlIIIIII:=III01lO1l00IOOO0O0I0O0I111O0IIIIII(IIll0O11l1O1lOl111IIOlOIl0I0OIIIII,5);
IIOIlOO1lI01O10O1Ol0OOI10110OIIIII(4):=IO1OlIO1l10Ill0O11IO0I0ll1OlIIIIII(0);IIOIlOO1lI01O10O1Ol0OOI10110OIIIII(3):=IO1OlIO1l10Ill0O11IO0I0ll1OlIIIIII(1);IIOIlOO1lI01O10O1Ol0OOI10110OIIIII(2):=IO1OlIO1l10Ill0O11IO0I0ll1OlIIIIII(2);IIOIlOO1lI01O10O1Ol0OOI10110OIIIII(1):=IO1OlIO1l10Ill0O11IO0I0ll1OlIIIIII(3);IIOIlOO1lI01O10O1Ol0OOI10110OIIIII(0):=IO1OlIO1l10Ill0O11IO0I0ll1OlIIIIII
(4);IO0II1lll1llOlO1lll1001O1IlOIOIIII:=IIIOI11O0OO00OllOllO00lOI000IOIIII(IIOIlOO1lI01O10O1Ol0OOI10110OIIIII);II10110Oll1OOlIOlOlIl01111IlOIIIII:=IO0II1lll1llOlO1lll1001O1IlOIOIIII*2**IOO1IIll11IlI110IOlllI1Il1IO1IIIII+IOl1100I00OlIllOI1I0III1O1l01IIIII;END;BEGIN IF IIIlOO0OOl101Ol0Oll10O1lOIIO0IIIII='1'THEN
 III0O000IO1IOIO10l0I00lOIII11IIIII;II0I1I1l00l1O11OOIOIIllII10IlIIIII:=INITIAL;IOIlOO00I1I00lO00l0I00OlIO01IIIIII:=0;II10IOlI11OOI1IO1OlI0IlI0I0I1IIIII:=99999;IOOll1I1OO10IlOI0lOO1lOl1O10IOIIII:=(OTHERS=>99999);IO0IlO1lI10Il011101l101IIl0IOIIIII<=(
OTHERS=>'X');II110IlI0l101IO1IlI1O00llI00OIIIII:='0';IO0I0I00IO00I1O0I0O0OIOOOI11IOIIII:=(OTHERS=>'0');IIOlOO00Ol0011IIIIIO1I1lllIO0IIIII<='0';IIO111Il00001lO0l00lOOlI1IO10IIIII:=99999;
IO1IllOO0II1ll1OII0OOO10OO0I1IIIII:=(OTHERS=>99999);IIOIOI0lO1lO100O11Il0OII11OlOIIIII<=(OTHERS=>'X');IO0I10OO0llIIlII1I01OOI001IIIIIIII:='0';IIlIOIlO1lO1l1I0OOOI1O1l0O0IOIIIII:=(OTHERS=>'0');
IOOl0IOOO1011llOIOl01lIOI0O11IIIII<='0';IO1lO1OOOl00OOI0lOI1Ol1O1lI0IIIIII:='0';IOOI0OO0l1O1O000lO10OOllOIIIIOIIII:=(OTHERS=>'0');II1I0O0100lIIII11lI00l0OOII0lIIIII<='0';ELSIF CLK'event AND CLK='1'THEN IF
 III0OI0OlIOOl1Ol1I0l00O0lI1IIIIIII='1'THEN II1llIOlOlll00O010O1lI1IOI1I1IIIII;IOIIOIIO1lIIOOl0IlO11I00II110IIIII:='0';II10ll00IlO1IIOIOIO10II0lI1l0IIIII:='0';IF C_MODE=II1IOOO00I0OI0O01I000O100llOOIIIII AND FD='1'AND
 IIl1O1I0001l1001OllOOII0I10l1IIIII='1'THEN II10ll00IlO1IIOIOIO10II0lI1l0IIIII:='1';ELSIF C_MODE/=II1IOOO00I0OI0O01I000O100llOOIIIII AND FD='1'THEN II10ll00IlO1IIOIOIO10II0lI1l0IIIII:='1';END IF;IF
 II10ll00IlO1IIOIOIO10II0lI1l0IIIII='1'THEN IF IOIO00lO11l0IOO1l0I101I11l1OOIIIII THEN IOIIOIIO1lIIOOl0IlO11I00II110IIIII:='1';IIlIlll0III10I0Il0I0OOOIOIIOOIIIII<='1';ELSE IIlIlll0III10I0Il0I0OOOIOIIOOIIIII<='0';END IF;END IF;IF IOIIOIIO1lIIOOl0IlO11I00II110IIIII='1'
AND IO0OOOI1IIIlIOIIOO0Il00I1lOOlIIIII='0'THEN II1ll00lO01110lOI1I0IOO0IlO0IIIIII:='1';ELSE II1ll00lO01110lOI1I0IOO0IlO0IIIIII:='0';END IF;IF IIIIlI10IO0IlIll11O0O1OII0OIIOIIII='1'THEN III0O000IO1IOIO10l0I00lOIII11IIIII;END IF;IF C_MODE=
II1IOOO00I0OI0O01I000O100llOOIIIII AND C_CONTINUOUS_MODE=0 THEN IF IOIIOIIO1lIIOOl0IlO11I00II110IIIII='1'AND IIIIlI10IO0IlIll11O0O1OII0OIIOIIII='0'THEN IIl11lIlOO0IIII0IOlI0l1000I1IIIIII;IOOI10l0O1lIlIll00Ol1lll10IIIIIIII
<='1';IO00O1llIl1l1I1IIOl11OIlI1lIOOIIII:=0;IIl1OOO111O0O11l1OOllOIIIIIl0IIIII:=0;II0IO0O1III0I1I1OlI0011O001IOIIIII:=0;IOI1l0OI1IO0llll1llO11Ol1IIlIIIIII:=II0IO0O1III0I1I1OlI0011O001IOIIIII;IIlO0IOl0I0I0lI0OOll1l1l1lO0IIIIII(IOI1l0OI1IO0llll1llO11Ol1IIlIIIIII):=DIN;II0IO0O1III0I1I1OlI0011O001IOIIIII:=(II0IO0O1III0I1I1OlI0011O001IOIIIII+1)MOD 2**
IOIlllIIlI1OlI0l101llI0II1O1IOIIII;IO00O1llIl1l1I1IIOl11OIlI1lIOOIIII:=IO00O1llIl1l1I1IIOl11OIlI1lIOOIIII+1;IOI1l0OI1IO0llll1llO11Ol1IIlIIIIII:=II0IO0O1III0I1I1OlI0011O001IOIIIII;IOI11IOIlOI1II1Il11OlI01Illl0IIIII:=WRITING;IO0OOOI1IIIlIOIIOO0Il00I1lOOlIIIII<='0';ELSE CASE IOI11IOIlOI1II1Il11OlI01Illl0IIIII IS
 WHEN IDLE=>IOOI10l0O1lIlIll00Ol1lll10IIIIIIII<='1';WHEN WRITING=>IF IIl1O1I0001l1001OllOOII0I10l1IIIII='1'THEN IIlO0IOl0I0I0lI0OOll1l1l1lO0IIIIII(IOI1l0OI1IO0llll1llO11Ol1IIlIIIIII):=DIN;IF IO00O1llIl1l1I1IIOl11OIlI1lIOOIIII=II0l0O0IOlIOI00OIl0IlOlI01OI1IIIII-1 THEN IOI11IOIlOI1II1Il11OlI01Illl0IIIII
:=READING;IOOI10l0O1lIlIll00Ol1lll10IIIIIIII<='0';IO00O1llIl1l1I1IIOl11OIlI1lIOOIIII:=0;ELSE IO00O1llIl1l1I1IIOl11OIlI1lIOOIIII:=IO00O1llIl1l1I1IIOl11OIlI1lIOOIIII+1;II0IO0O1III0I1I1OlI0011O001IOIIIII:=(II0IO0O1III0I1I1OlI0011O001IOIIIII+1)MOD 2**IOIlllIIlI1OlI0l101llI0II1O1IOIIII;IOI1l0OI1IO0llll1llO11Ol1IIlIIIIII:=
II0IO0O1III0I1I1OlI0011O001IOIIIII;END IF;END IF;WHEN READING=>IF IIl1OOO111O0O11l1OOllOIIIIIl0IIIII=II0l0O0IOlIOI00OIl0IlOlI01OI1IIIII-1 THEN IOI11IOIlOI1II1Il11OlI01Illl0IIIII:=IDLE;IOOI10l0O1lIlIll00Ol1lll10IIIIIIII<='1';IO0OOOI1IIIlIOIIOO0Il00I1lOOlIIIII<='1';
IIl1OOO111O0O11l1OOllOIIIIIl0IIIII:=0;IO00O1llIl1l1I1IIOl11OIlI1lIOOIIII:=0;IOI1l0OI1IO0llll1llO11Ol1IIlIIIIII:=II0IO0O1III0I1I1OlI0011O001IOIIIII;ELSE IIl1OOO111O0O11l1OOllOIIIIIl0IIIII:=IIl1OOO111O0O11l1OOllOIIIIIl0IIIII+1;END IF;WHEN OTHERS=>NULL;END CASE;END IF;
III0lIIOOIOl0ll0ll0l1lO10IlIIIIIII:=II0I1I1l00l1O11OOIOIIllII10IlIIIII;IF IOIIOIIO1lIIOOl0IlO11I00II110IIIII='1'THEN IOIlOO00I1I00lO00l0I00OlIO01IIIIII:=0;II10IOlI11OOI1IO1OlI0IlI0I0I1IIIII:=99999;II110IlI0l101IO1IlI1O00llI00OIIIII:='0';
IIO111Il00001lO0l00lOOlI1IO10IIIII:=0;IO0I10OO0llIIlII1I01OOI001IIIIIIII:='1';IO1lO1OOOl00OOI0lOI1Ol1O1lI0IIIIII:='1';II0I1I1l00l1O11OOIOIIllII10IlIIIII:=WRITING;ELSE CASE II0I1I1l00l1O11OOIOIIllII10IlIIIII IS WHEN INITIAL=>WHEN
 IDLE=>III010I1Ol1OlOI0IO10O0000II11IIIII:=(III010I1Ol1OlOI0IO10O0000II11IIIII+1)MOD 2**IOIlllIIlI1OlI0l101llI0II1O1IOIIII;IOOI10l11llO01llIIllOI1IO0l1OIIIII(IIOIOOI1ll1O0I1011l0O1lI0IllIOIIII,II0l0O0IOlIOI00OIl0IlOlI01OI1IIIII,
III010I1Ol1OlOI0IO10O0000II11IIIII);IIO111Il00001lO0l00lOOlI1IO10IIIII:=II10110Oll1OOlIOlOlIl01111IlOIIIII;WHILE(IIO111Il00001lO0l00lOOlI1IO10IIIII>II0l0O0IOlIOI00OIl0IlOlI01OI1IIIII-1)LOOP III010I1Ol1OlOI0IO10O0000II11IIIII:=(III010I1Ol1OlOI0IO10O0000II11IIIII+1)MOD
 2**IOIlllIIlI1OlI0l101llI0II1O1IOIIII;IOOI10l11llO01llIIllOI1IO0l1OIIIII(IIOIOOI1ll1O0I1011l0O1lI0IllIOIIII,II0l0O0IOlIOI00OIl0IlOlI01OI1IIIII,III010I1Ol1OlOI0IO10O0000II11IIIII);IIO111Il00001lO0l00lOOlI1IO10IIIII:=II10110Oll1OOlIOlOlIl01111IlOIIIII;
END LOOP;WHEN WRITING=>IF IIO111Il00001lO0l00lOOlI1IO10IIIII=II0l0O0IOlIOI00OIl0IlOlI01OI1IIIII-1 THEN IOIlOO00I1I00lO00l0I00OlIO01IIIIII:=0;II10IOlI11OOI1IO1OlI0IlI0I0I1IIIII:=0;II110IlI0l101IO1IlI1O00llI00OIIIII:='1';
III010I1Ol1OlOI0IO10O0000II11IIIII:=0;IO1lO1OOOl00OOI0lOI1Ol1O1lI0IIIIII:='0';IOOI10l11llO01llIIllOI1IO0l1OIIIII(IIOIOOI1ll1O0I1011l0O1lI0IllIOIIII,II0l0O0IOlIOI00OIl0IlOlI01OI1IIIII,III010I1Ol1OlOI0IO10O0000II11IIIII);IIO111Il00001lO0l00lOOlI1IO10IIIII
:=II10110Oll1OOlIOlOlIl01111IlOIIIII;II0I1I1l00l1O11OOIOIIllII10IlIIIII:=READING;ELSIF IIl1O1I0001l1001OllOOII0I10l1IIIII='1'THEN IIO111Il00001lO0l00lOOlI1IO10IIIII:=IIO111Il00001lO0l00lOOlI1IO10IIIII+1;END IF;WHEN READING=>III010I1Ol1OlOI0IO10O0000II11IIIII
:=(III010I1Ol1OlOI0IO10O0000II11IIIII+1)MOD 2**IOIlllIIlI1OlI0l101llI0II1O1IOIIII;IOOI10l11llO01llIIllOI1IO0l1OIIIII(IIOIOOI1ll1O0I1011l0O1lI0IllIOIIII,II0l0O0IOlIOI00OIl0IlOlI01OI1IIIII,III010I1Ol1OlOI0IO10O0000II11IIIII);
IIO111Il00001lO0l00lOOlI1IO10IIIII:=II10110Oll1OOlIOlOlIl01111IlOIIIII;WHILE(IIO111Il00001lO0l00lOOlI1IO10IIIII>II0l0O0IOlIOI00OIl0IlOlI01OI1IIIII-1)LOOP III010I1Ol1OlOI0IO10O0000II11IIIII:=(III010I1Ol1OlOI0IO10O0000II11IIIII+1)MOD 2**
IOIlllIIlI1OlI0l101llI0II1O1IOIIII;IOOI10l11llO01llIIllOI1IO0l1OIIIII(IIOIOOI1ll1O0I1011l0O1lI0IllIOIIII,II0l0O0IOlIOI00OIl0IlOlI01OI1IIIII,III010I1Ol1OlOI0IO10O0000II11IIIII);IIO111Il00001lO0l00lOOlI1IO10IIIII:=II10110Oll1OOlIOlOlIl01111IlOIIIII;END
 LOOP;IF IOIlOO00I1I00lO00l0I00OlIO01IIIIII=II0l0O0IOlIOI00OIl0IlOlI01OI1IIIII-1 THEN IO1lO1OOOl00OOI0lOI1Ol1O1lI0IIIIII:='0';IOIlOO00I1I00lO00l0I00OlIO01IIIIII:=0;II0I1I1l00l1O11OOIOIIllII10IlIIIII:=IDLE;II110IlI0l101IO1IlI1O00llI00OIIIII:='0';
ELSE IOIlOO00I1I00lO00l0I00OlIO01IIIIII:=IOIlOO00I1I00lO00l0I00OlIO01IIIIII+1;END IF;II10IOlI11OOI1IO1OlI0IlI0I0I1IIIII:=IOIlOO00I1I00lO00l0I00OlIO01IIIIII;WHEN OTHERS=>NULL;END CASE;END IF;IF IIIIlI10IO0IlIll11O0O1OII0OIIOIIII='1'THEN
 II0I1I1l00l1O11OOIOIIllII10IlIIIII:=IDLE;III010I1Ol1OlOI0IO10O0000II11IIIII:=0;IOOI10l11llO01llIIllOI1IO0l1OIIIII(IIOIOOI1ll1O0I1011l0O1lI0IllIOIIII,II0l0O0IOlIOI00OIl0IlOlI01OI1IIIII,III010I1Ol1OlOI0IO10O0000II11IIIII);
IIO111Il00001lO0l00lOOlI1IO10IIIII:=II10110Oll1OOlIOlOlIl01111IlOIIIII;IO1lO1OOOl00OOI0lOI1Ol1O1lI0IIIIII:='0';IOIlOO00I1I00lO00l0I00OlIO01IIIIII:=0;II10IOlI11OOI1IO1OlI0IlI0I0I1IIIII:=99999;II110IlI0l101IO1IlI1O00llI00OIIIII:='0';END IF;
IOOl0IOOO1011llOIOl01lIOI0O11IIIII<=IIlIOIlO1lO1l1I0OOOI1O1l0O0IOIIIII(III1OO10l11110IO1IO0lOII0OO11IIIII-1);IIOlOO00Ol0011IIIIIO1I1lllIO0IIIII<=IO0I0I00IO00I1O0I0O0OIOOOI11IOIIII(
III1OO10l11110IO1IO0lOII0OO11IIIII-1);II1I0O0100lIIII11lI00l0OOII0lIIIII<=IOOI0OO0l1O1O000lO10OOllOIIIIOIIII(III1OO10l11110IO1IO0lOII0OO11IIIII-1);IIOIOI0lO1lO100O11Il0OII11OlOIIIII<=
III01lO1l00IOOO0O0I0O0I111O0IIIIII(IO1IllOO0II1ll1OII0OOO10OO0I1IIIII(III1OO10l11110IO1IO0lOII0OO11IIIII-1),15);IO0IlO1lI10Il011101l101IIl0IOIIIII<=III01lO1l00IOOO0O0I0O0I111O0IIIIII(
IOOll1I1OO10IlOI0lOO1lOl1O10IOIIII(III1OO10l11110IO1IO0lOII0OO11IIIII-1),15);FOR IIOI10lI0II00O0IOOl0I10001lO1IIIII IN III1OO10l11110IO1IO0lOII0OO11IIIII-1 DOWNTO 0 LOOP IIlIOIlO1lO1l1I0OOOI1O1l0O0IOIIIII(IIOI10lI0II00O0IOOl0I10001lO1IIIII
+1):=IIlIOIlO1lO1l1I0OOOI1O1l0O0IOIIIII(IIOI10lI0II00O0IOOl0I10001lO1IIIII);IO0I0I00IO00I1O0I0O0OIOOOI11IOIIII(IIOI10lI0II00O0IOOl0I10001lO1IIIII+1):=IO0I0I00IO00I1O0I0O0OIOOOI11IOIIII(IIOI10lI0II00O0IOOl0I10001lO1IIIII);IOOI0OO0l1O1O000lO10OOllOIIIIOIIII(IIOI10lI0II00O0IOOl0I10001lO1IIIII+1):=IOOI0OO0l1O1O000lO10OOllOIIIIOIIII(IIOI10lI0II00O0IOOl0I10001lO1IIIII
);IO1IllOO0II1ll1OII0OOO10OO0I1IIIII(IIOI10lI0II00O0IOOl0I10001lO1IIIII+1):=IO1IllOO0II1ll1OII0OOO10OO0I1IIIII(IIOI10lI0II00O0IOOl0I10001lO1IIIII);IOOll1I1OO10IlOI0lOO1lOl1O10IOIIII(IIOI10lI0II00O0IOOl0I10001lO1IIIII+1):=IOOll1I1OO10IlOI0lOO1lOl1O10IOIIII(IIOI10lI0II00O0IOOl0I10001lO1IIIII);END LOOP;IIlIOIlO1lO1l1I0OOOI1O1l0O0IOIIIII(0
):=IO0I10OO0llIIlII1I01OOI001IIIIIIII;IO0I0I00IO00I1O0I0O0OIOOOI11IOIIII(0):=II110IlI0l101IO1IlI1O00llI00OIIIII;IOOI0OO0l1O1O000lO10OOllOIIIIOIIII(0):=IO1lO1OOOl00OOI0lOI1Ol1O1lI0IIIIII;IO1IllOO0II1ll1OII0OOO10OO0I1IIIII(0):=
IIO111Il00001lO0l00lOOlI1IO10IIIII;IF IIIIlI10IO0IlIll11O0O1OII0OIIOIIII='1'THEN IIOlOO00Ol0011IIIIIO1I1lllIO0IIIII<='0';IO0I0I00IO00I1O0I0O0OIOOOI11IOIIII:=(OTHERS=>'0');IOOI0OO0l1O1O000lO10OOllOIIIIOIIII:=(OTHERS
=>'0');II1I0O0100lIIII11lI00l0OOII0lIIIII<='0';IOOll1I1OO10IlOI0lOO1lOl1O10IOIIII:=(OTHERS=>0);IO0IlO1lI10Il011101l101IIl0IOIIIII<=(OTHERS=>'0');END IF;IOOll1I1OO10IlOI0lOO1lOl1O10IOIIII(0):=
II10IOlI11OOI1IO1OlI0IlI0I0I1IIIII;II0II1IO1I0IOIl0ll1I0O00lIIOOIIIII<=IIIOOI1II1O11lOIOlOIlOOII1010IIIII(IO1O1llOO0IlllI1O1OlOI010l1IIIIIII-1);FOR IIO1IIOOO0OO1100OO11l0OOllIIIOIIII IN III1OO10l11110IO1IO0lOII0OO11IIIII-1 DOWNTO 0 LOOP
 IIIOOI1II1O11lOIOlOIlOOII1010IIIII(IIO1IIOOO0OO1100OO11l0OOllIIIOIIII+1):=IIIOOI1II1O11lOIOlOIlOOII1010IIIII(IIO1IIOOO0OO1100OO11l0OOllIIIOIIII);END LOOP;IIIOOI1II1O11lOIOlOIlOOII1010IIIII(0):=DIN;IF II1ll00lO01110lOI1I0IOO0IlO0IIIIII='1'THEN IF III0lIIOOIOl0ll0ll0l1lO10IlIIIIIII=WRITING THEN
 IOOI0OO0l1O1O000lO10OOllOIIIIOIIII:=(OTHERS=>'1');ELSE IOOI0OO0l1O1O000lO10OOllOIIIIOIIII:=(OTHERS=>'0');END IF;IOOI0OO0l1O1O000lO10OOllOIIIIOIIII(0):='1';END IF;IF IIIIlI10IO0IlIll11O0O1OII0OIIOIIII='0'THEN
 II0Ol0OI111lIO001O0IIlO110IlIOIIII:=IOIIOIIO1lIIOOl0IlO11I00II110IIIII;IO0I011OOl0OOO000O0I0O0OO0OllIIIII:=II1ll00lO01110lOI1I0IOO0IlO0IIIIII;IO1OllI0IIll0OIOI1l01I010OOIOOIIII:=IIl1O1I0001l1001OllOOII0I10l1IIIII;IF IOIIOIIO1lIIOOl0IlO11I00II110IIIII='1'THEN IO1I11OIllI1III1III11OlIIlIIOIIIII;IIOOO0OOIll110IlI1111I1001I01IIIII:='0';IO00lII1lIll0OllOlI1l1O0OI100IIIII:='0';
IIII1llIll1l01O1l1O0OIlO1l00OIIIII:='0';II00l0IOI1lIlOlOOI0I011O1110OIIIII:=0;IOO01101I01OlOIO111IIl0OOIOI0IIIII:=0;III0l0O0I11OOO1lI0OOIO0llOlIlIIIII:=0;IO01l1ll0IlOll0I00lll11l0OllIIIIII:=WRITING;II00l0IOI1lIlOlOOI0I011O1110OIIIII:=II00l0IOI1lIlOlOOI0I011O1110OIIIII+1;ELSE CASE
 IO01l1ll0IlOll0I00lll11l0OllIIIIII IS WHEN IDLE=>WHEN WRITING=>IF IO1OllI0IIll0OIOI1l01I010OOIOOIIII='1'THEN IF II00l0IOI1lIlOlOOI0I011O1110OIIIII=IOO0IO0OOOOO0I10II0llO10ll1OlIIIII-1 THEN IO01l1ll0IlOll0I00lll11l0OllIIIIII:=READING_0;
IIOOO0OOIll110IlI1111I1001I01IIIII:='1';IO00lII1lIll0OllOlI1l1O0OI100IIIII:='1';II00l0IOI1lIlOlOOI0I011O1110OIIIII:=0;III0l0O0I11OOO1lI0OOIO0llOlIlIIIII:=0;IOOI10l11llO01llIIllOI1IO0l1OIIIII(IIlIII1OIIl0OOl00I0IlOOI1IIlOIIIII,IOO0IO0OOOOO0I10II0llO10ll1OlIIIII,
III0l0O0I11OOO1lI0OOIO0llOlIlIIIII);IOl1I001lIl1Il1I11lI00l11O1OOIIIII:=II10110Oll1OOlIOlOlIl01111IlOIIIII;IIIIOOlIIO11011I1IlOO10OOOO0OIIIII:=IIlO0IOl0I0I0lI0OOll1l1l1lO0IIIIII(IOl1I001lIl1Il1I11lI00l11O1OOIIIII);ELSE II00l0IOI1lIlOlOOI0I011O1110OIIIII:=II00l0IOI1lIlOlOOI0I011O1110OIIIII+1;END IF;END IF;WHEN READING_0=>
IO01l1ll0IlOll0I00lll11l0OllIIIIII:=READING;IOO01101I01OlOIO111IIl0OOIOI0IIIII:=IOO01101I01OlOIO111IIl0OOIOI0IIIII+1;III0l0O0I11OOO1lI0OOIO0llOlIlIIIII:=(III0l0O0I11OOO1lI0OOIO0llOlIlIIIII+1)MOD 2**IOl10OI01O100l1IIIl0IIl1lO10lIIIII;IO00lII1lIll0OllOlI1l1O0OI100IIIII:='0';
IOOI10l11llO01llIIllOI1IO0l1OIIIII(IIlIII1OIIl0OOl00I0IlOOI1IIlOIIIII,IOO0IO0OOOOO0I10II0llO10ll1OlIIIII,III0l0O0I11OOO1lI0OOIO0llOlIlIIIII);IOl1I001lIl1Il1I11lI00l11O1OOIIIII:=II10110Oll1OOlIOlOlIl01111IlOIIIII;WHILE(IOl1I001lIl1Il1I11lI00l11O1OOIIIII>
IOO0IO0OOOOO0I10II0llO10ll1OlIIIII-1)LOOP III0l0O0I11OOO1lI0OOIO0llOlIlIIIII:=(III0l0O0I11OOO1lI0OOIO0llOlIlIIIII+1)MOD 2**IOl10OI01O100l1IIIl0IIl1lO10lIIIII;IOOI10l11llO01llIIllOI1IO0l1OIIIII(IIlIII1OIIl0OOl00I0IlOOI1IIlOIIIII,
IOO0IO0OOOOO0I10II0llO10ll1OlIIIII,III0l0O0I11OOO1lI0OOIO0llOlIlIIIII);IOl1I001lIl1Il1I11lI00l11O1OOIIIII:=II10110Oll1OOlIOlOlIl01111IlOIIIII;END LOOP;IIIIOOlIIO11011I1IlOO10OOOO0OIIIII:=IIlO0IOl0I0I0lI0OOll1l1l1lO0IIIIII(IOl1I001lIl1Il1I11lI00l11O1OOIIIII);WHEN READING=>IF IOO01101I01OlOIO111IIl0OOIOI0IIIII=
IOO0IO0OOOOO0I10II0llO10ll1OlIIIII-2 THEN IO01l1ll0IlOll0I00lll11l0OllIIIIII:=READING_LAST;IIII1llIll1l01O1l1O0OIlO1l00OIIIII:='1';END IF;IOO01101I01OlOIO111IIl0OOIOI0IIIII:=IOO01101I01OlOIO111IIl0OOIOI0IIIII+1;III0l0O0I11OOO1lI0OOIO0llOlIlIIIII:=(III0l0O0I11OOO1lI0OOIO0llOlIlIIIII
+1)MOD 2**IOl10OI01O100l1IIIl0IIl1lO10lIIIII;IOOI10l11llO01llIIllOI1IO0l1OIIIII(IIlIII1OIIl0OOl00I0IlOOI1IIlOIIIII,IOO0IO0OOOOO0I10II0llO10ll1OlIIIII,III0l0O0I11OOO1lI0OOIO0llOlIlIIIII);IOl1I001lIl1Il1I11lI00l11O1OOIIIII:=II10110Oll1OOlIOlOlIl01111IlOIIIII;WHILE
(IOl1I001lIl1Il1I11lI00l11O1OOIIIII>IOO0IO0OOOOO0I10II0llO10ll1OlIIIII-1)LOOP III0l0O0I11OOO1lI0OOIO0llOlIlIIIII:=(III0l0O0I11OOO1lI0OOIO0llOlIlIIIII+1)MOD 2**IOl10OI01O100l1IIIl0IIl1lO10lIIIII;IOOI10l11llO01llIIllOI1IO0l1OIIIII(
IIlIII1OIIl0OOl00I0IlOOI1IIlOIIIII,IOO0IO0OOOOO0I10II0llO10ll1OlIIIII,III0l0O0I11OOO1lI0OOIO0llOlIlIIIII);IOl1I001lIl1Il1I11lI00l11O1OOIIIII:=II10110Oll1OOlIOlOlIl01111IlOIIIII;END LOOP;IIIIOOlIIO11011I1IlOO10OOOO0OIIIII:=IIlO0IOl0I0I0lI0OOll1l1l1lO0IIIIII(IOl1I001lIl1Il1I11lI00l11O1OOIIIII);WHEN
 READING_LAST=>IO01l1ll0IlOll0I00lll11l0OllIIIIII:=IDLE;IIOOO0OOIll110IlI1111I1001I01IIIII:='0';IOO01101I01OlOIO111IIl0OOIOI0IIIII:=0;III0l0O0I11OOO1lI0OOIO0llOlIlIIIII:=0;IIII1llIll1l01O1l1O0OIlO1l00OIIIII:='0';IOOI10l11llO01llIIllOI1IO0l1OIIIII(
IIlIII1OIIl0OOl00I0IlOOI1IIlOIIIII,IOO0IO0OOOOO0I10II0llO10ll1OlIIIII,III0l0O0I11OOO1lI0OOIO0llOlIlIIIII);IOl1I001lIl1Il1I11lI00l11O1OOIIIII:=II10110Oll1OOlIOlOlIl01111IlOIIIII;WHILE(IOl1I001lIl1Il1I11lI00l11O1OOIIIII>IOO0IO0OOOOO0I10II0llO10ll1OlIIIII-1)LOOP
 III0l0O0I11OOO1lI0OOIO0llOlIlIIIII:=(III0l0O0I11OOO1lI0OOIO0llOlIlIIIII+1)MOD 2**IOl10OI01O100l1IIIl0IIl1lO10lIIIII;IOOI10l11llO01llIIllOI1IO0l1OIIIII(IIlIII1OIIl0OOl00I0IlOOI1IIlOIIIII,IOO0IO0OOOOO0I10II0llO10ll1OlIIIII,III0l0O0I11OOO1lI0OOIO0llOlIlIIIII);
IOl1I001lIl1Il1I11lI00l11O1OOIIIII:=II10110Oll1OOlIOlOlIl01111IlOIIIII;END LOOP;IIIIOOlIIO11011I1IlOO10OOOO0OIIIII:=IIlO0IOl0I0I0lI0OOll1l1l1lO0IIIIII(IOl1I001lIl1Il1I11lI00l11O1OOIIIII);WHEN OTHERS=>NULL;END CASE;IIO0101IlI11I0IOlI01l1ll0O10OIIIII:=IIlO0IOl0I0I0lI0OOll1l1l1lO0IIIIII(IOO01101I01OlOIO111IIl0OOIOI0IIIII);END IF;IOOl0llO0OI110111OIOlOIO0lOOIOIIII
<=IOlIOOI0O1OIlOl01O0OIII10O11lIIIII(II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII-1);II1IOO1l1I11I1ll1OI1I00lII000IIIII<=IO1OIOI0I1l11O0IllIOllII1llIIOIIII(II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII-1);IOl0I10010lIIIl000I1O1IO1IlOIIIIII<=IIOl11l1l101llOl0l0l101I1O1llIIIII(II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII-1
);IOl1I1O0IIO001llOlll1I1lOI1l0IIIII<=III1O0Ol0IOOO0IllIOOO000O1lO0IIIII(II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII-1);IOl1Ol11IlIl0110l0OOll000lI11IIIII<=IIl1IIO111llI0l1O1OI00lIl1I0OIIIII(II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII-1);FOR IOO01O011lIIIlOl1O0lOIOOI110IOIIII IN
 II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII-1 DOWNTO 0 LOOP IOlIOOI0O1OIlOl01O0OIII10O11lIIIII(IOO01O011lIIIlOl1O0lOIOOI110IOIIII+1):=IOlIOOI0O1OIlOl01O0OIII10O11lIIIII(IOO01O011lIIIlOl1O0lOIOOI110IOIIII);IO1OIOI0I1l11O0IllIOllII1llIIOIIII(IOO01O011lIIIlOl1O0lOIOOI110IOIIII+1):=IO1OIOI0I1l11O0IllIOllII1llIIOIIII(IOO01O011lIIIlOl1O0lOIOOI110IOIIII);IIOl11l1l101llOl0l0l101I1O1llIIIII(IOO01O011lIIIlOl1O0lOIOOI110IOIIII+1):=
IIOl11l1l101llOl0l0l101I1O1llIIIII(IOO01O011lIIIlOl1O0lOIOOI110IOIIII);III1O0Ol0IOOO0IllIOOO000O1lO0IIIII(IOO01O011lIIIlOl1O0lOIOOI110IOIIII+1):=III1O0Ol0IOOO0IllIOOO000O1lO0IIIII(IOO01O011lIIIlOl1O0lOIOOI110IOIIII);IIl1IIO111llI0l1O1OI00lIl1I0OIIIII(IOO01O011lIIIlOl1O0lOIOOI110IOIIII+1):=IIl1IIO111llI0l1O1OI00lIl1I0OIIIII(IOO01O011lIIIlOl1O0lOIOOI110IOIIII);END LOOP;IOlIOOI0O1OIlOl01O0OIII10O11lIIIII(0):=
IIIIOOlIIO11011I1IlOO10OOOO0OIIIII;IO1OIOI0I1l11O0IllIOllII1llIIOIIII(0):=IIO0101IlI11I0IOlI01l1ll0O10OIIIII;IIOl11l1l101llOl0l0l101I1O1llIIIII(0):=IIOOO0OOIll110IlI1111I1001I01IIIII;III1O0Ol0IOOO0IllIOOO000O1lO0IIIII(0):=IO00lII1lIll0OllOlI1l1O0OI100IIIII;IIl1IIO111llI0l1O1OI00lIl1I0OIIIII(0):=
IIII1llIll1l01O1l1O0OIlO1l00OIIIII;IF IO0I011OOl0OOO000O0I0O0OO0OllIIIII='1'THEN IOl0I10010lIIIl000I1O1IO1IlOIIIIII<='0';IOl1I1O0IIO001llOlll1I1lOI1l0IIIII<='0';IOl1Ol11IlIl0110l0OOll000lI11IIIII<='0';IIOl11l1l101llOl0l0l101I1O1llIIIII:=(OTHERS=>'0');
III1O0Ol0IOOO0IllIOOO000O1lO0IIIII:=(OTHERS=>'0');IIl1IIO111llI0l1O1OI00lIl1I0OIIIII:=(OTHERS=>'0');IOOI0OO0l1O1O000lO10OOllOIIIIOIIII(0):='1';END IF;END IF;ELSIF C_MODE=
II1IOOO00I0OI0O01I000O100llOOIIIII AND C_CONTINUOUS_MODE/=0 THEN IF IIIIlI10IO0IlIll11O0O1OII0OIIOIIII='0'THEN IF IOIIOIIO1lIIOOl0IlO11I00II110IIIII='1'THEN IOOO00lOlO0l0llI01lIlOOIIllIlIIIII:=NOT
 IOOO00lOlO0l0llI01lIlOOIIllIlIIIII;END IF;IF IOOO00lOlO0l0llI01lIlOOIIllIlIIIII THEN IO00l1II1l000l0I11O010I1IlOlIOIIII:=IOII100I0I1l010IOI1lO1O1I1101IIIII;IOlO1OI10Il1OllOl1IIOOIO0I1lIIIIII:=0;ELSE IOlO1OI10Il1OllOl1IIOOIO0I1lIIIIII:=IOII100I0I1l010IOI1lO1O1I1101IIIII;IO00l1II1l000l0I11O010I1IlOlIOIIII:=0;END IF;IF
 IOIIOIIO1lIIOOl0IlO11I00II110IIIII='1'THEN IF IOI11IOIlOI1II1Il11OlI01Illl0IIIII=WRITE_DONE THEN IO1I11OIllI1III1III11OlIIlIIOIIIII;IO01l1ll0IlOll0I00lll11l0OllIIIIII:=READING_0;IIOOO0OOIll110IlI1111I1001I01IIIII:='1';IO00lII1lIll0OllOlI1l1O0OI100IIIII:='1';
IIII1llIll1l01O1l1O0OIlO1l00OIIIII:='0';III0l0O0I11OOO1lI0OOIO0llOlIlIIIII:=0;IOO01101I01OlOIO111IIl0OOIOI0IIIII:=0;IOOI10l11llO01llIIllOI1IO0l1OIIIII(IIlIII1OIIl0OOl00I0IlOOI1IIlOIIIII,IOO0IO0OOOOO0I10II0llO10ll1OlIIIII,III0l0O0I11OOO1lI0OOIO0llOlIlIIIII);
IOl1I001lIl1Il1I11lI00l11O1OOIIIII:=II10110Oll1OOlIOlOlIl01111IlOIIIII;IIIIOOlIIO11011I1IlOO10OOOO0OIIIII:=IIlO0IOl0I0I0lI0OOll1l1l1lO0IIIIII(IOl1I001lIl1Il1I11lI00l11O1OOIIIII+IOlO1OI10Il1OllOl1IIOOIO0I1lIIIIII);IIO0101IlI11I0IOlI01l1ll0O10OIIIII:=IIlO0IOl0I0I0lI0OOll1l1l1lO0IIIIII(IOO01101I01OlOIO111IIl0OOIOI0IIIII+IOlO1OI10Il1OllOl1IIOOIO0I1lIIIIII);ELSE IIOOO0OOIll110IlI1111I1001I01IIIII:='0';
IO00lII1lIll0OllOlI1l1O0OI100IIIII:='0';IIII1llIll1l01O1l1O0OIlO1l00OIIIII:='0';IO01l1ll0IlOll0I00lll11l0OllIIIIII:=READ_DONE;END IF;ELSE CASE IO01l1ll0IlOll0I00lll11l0OllIIIIII IS WHEN READ_DONE=>WHEN READING_0
=>IO01l1ll0IlOll0I00lll11l0OllIIIIII:=READING;IOO01101I01OlOIO111IIl0OOIOI0IIIII:=IOO01101I01OlOIO111IIl0OOIOI0IIIII+1;III0l0O0I11OOO1lI0OOIO0llOlIlIIIII:=(III0l0O0I11OOO1lI0OOIO0llOlIlIIIII+1)MOD 2**IOl10OI01O100l1IIIl0IIl1lO10lIIIII;IO00lII1lIll0OllOlI1l1O0OI100IIIII:='0';
IOOI10l11llO01llIIllOI1IO0l1OIIIII(IIlIII1OIIl0OOl00I0IlOOI1IIlOIIIII,IOO0IO0OOOOO0I10II0llO10ll1OlIIIII,III0l0O0I11OOO1lI0OOIO0llOlIlIIIII);IOl1I001lIl1Il1I11lI00l11O1OOIIIII:=II10110Oll1OOlIOlOlIl01111IlOIIIII;WHILE(IOl1I001lIl1Il1I11lI00l11O1OOIIIII>
IOO0IO0OOOOO0I10II0llO10ll1OlIIIII-1)LOOP III0l0O0I11OOO1lI0OOIO0llOlIlIIIII:=(III0l0O0I11OOO1lI0OOIO0llOlIlIIIII+1)MOD 2**IOl10OI01O100l1IIIl0IIl1lO10lIIIII;IOOI10l11llO01llIIllOI1IO0l1OIIIII(IIlIII1OIIl0OOl00I0IlOOI1IIlOIIIII,
IOO0IO0OOOOO0I10II0llO10ll1OlIIIII,III0l0O0I11OOO1lI0OOIO0llOlIlIIIII);IOl1I001lIl1Il1I11lI00l11O1OOIIIII:=II10110Oll1OOlIOlOlIl01111IlOIIIII;END LOOP;IIIIOOlIIO11011I1IlOO10OOOO0OIIIII:=IIlO0IOl0I0I0lI0OOll1l1l1lO0IIIIII(IOl1I001lIl1Il1I11lI00l11O1OOIIIII+IOlO1OI10Il1OllOl1IIOOIO0I1lIIIIII);WHEN READING=>IF IOO01101I01OlOIO111IIl0OOIOI0IIIII
=IOO0IO0OOOOO0I10II0llO10ll1OlIIIII-2 THEN IO01l1ll0IlOll0I00lll11l0OllIIIIII:=READING_LAST;IIII1llIll1l01O1l1O0OIlO1l00OIIIII:='1';END IF;IOO01101I01OlOIO111IIl0OOIOI0IIIII:=IOO01101I01OlOIO111IIl0OOIOI0IIIII+1;III0l0O0I11OOO1lI0OOIO0llOlIlIIIII:=(
III0l0O0I11OOO1lI0OOIO0llOlIlIIIII+1)MOD 2**IOl10OI01O100l1IIIl0IIl1lO10lIIIII;IOOI10l11llO01llIIllOI1IO0l1OIIIII(IIlIII1OIIl0OOl00I0IlOOI1IIlOIIIII,IOO0IO0OOOOO0I10II0llO10ll1OlIIIII,III0l0O0I11OOO1lI0OOIO0llOlIlIIIII);IOl1I001lIl1Il1I11lI00l11O1OOIIIII:=
II10110Oll1OOlIOlOlIl01111IlOIIIII;WHILE(IOl1I001lIl1Il1I11lI00l11O1OOIIIII>IOO0IO0OOOOO0I10II0llO10ll1OlIIIII-1)LOOP III0l0O0I11OOO1lI0OOIO0llOlIlIIIII:=(III0l0O0I11OOO1lI0OOIO0llOlIlIIIII+1)MOD 2**IOl10OI01O100l1IIIl0IIl1lO10lIIIII;IOOI10l11llO01llIIllOI1IO0l1OIIIII(
IIlIII1OIIl0OOl00I0IlOOI1IIlOIIIII,IOO0IO0OOOOO0I10II0llO10ll1OlIIIII,III0l0O0I11OOO1lI0OOIO0llOlIlIIIII);IOl1I001lIl1Il1I11lI00l11O1OOIIIII:=II10110Oll1OOlIOlOlIl01111IlOIIIII;END LOOP;IIIIOOlIIO11011I1IlOO10OOOO0OIIIII:=IIlO0IOl0I0I0lI0OOll1l1l1lO0IIIIII(IOl1I001lIl1Il1I11lI00l11O1OOIIIII+IOlO1OI10Il1OllOl1IIOOIO0I1lIIIIII
);WHEN READING_LAST=>IO01l1ll0IlOll0I00lll11l0OllIIIIII:=READ_DONE;IIOOO0OOIll110IlI1111I1001I01IIIII:='0';IOO01101I01OlOIO111IIl0OOIOI0IIIII:=0;III0l0O0I11OOO1lI0OOIO0llOlIlIIIII:=0;IIII1llIll1l01O1l1O0OIlO1l00OIIIII:='0';IOOI10l11llO01llIIllOI1IO0l1OIIIII(
IIlIII1OIIl0OOl00I0IlOOI1IIlOIIIII,IOO0IO0OOOOO0I10II0llO10ll1OlIIIII,III0l0O0I11OOO1lI0OOIO0llOlIlIIIII);IOl1I001lIl1Il1I11lI00l11O1OOIIIII:=II10110Oll1OOlIOlOlIl01111IlOIIIII;WHILE(IOl1I001lIl1Il1I11lI00l11O1OOIIIII>IOO0IO0OOOOO0I10II0llO10ll1OlIIIII-1)LOOP
 III0l0O0I11OOO1lI0OOIO0llOlIlIIIII:=(III0l0O0I11OOO1lI0OOIO0llOlIlIIIII+1)MOD 2**IOl10OI01O100l1IIIl0IIl1lO10lIIIII;IOOI10l11llO01llIIllOI1IO0l1OIIIII(IIlIII1OIIl0OOl00I0IlOOI1IIlOIIIII,IOO0IO0OOOOO0I10II0llO10ll1OlIIIII,III0l0O0I11OOO1lI0OOIO0llOlIlIIIII);
IOl1I001lIl1Il1I11lI00l11O1OOIIIII:=II10110Oll1OOlIOlOlIl01111IlOIIIII;END LOOP;IIIIOOlIIO11011I1IlOO10OOOO0OIIIII:=IIlO0IOl0I0I0lI0OOll1l1l1lO0IIIIII(IOl1I001lIl1Il1I11lI00l11O1OOIIIII+IOlO1OI10Il1OllOl1IIOOIO0I1lIIIIII);WHEN OTHERS=>NULL;END CASE;IIO0101IlI11I0IOlI01l1ll0O10OIIIII:=IIlO0IOl0I0I0lI0OOll1l1l1lO0IIIIII(IOO01101I01OlOIO111IIl0OOIOI0IIIII+
IOlO1OI10Il1OllOl1IIOOIO0I1lIIIIII);END IF;IOOl0llO0OI110111OIOlOIO0lOOIOIIII<=IOlIOOI0O1OIlOl01O0OIII10O11lIIIII(II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII-1);II1IOO1l1I11I1ll1OI1I00lII000IIIII<=IO1OIOI0I1l11O0IllIOllII1llIIOIIII(II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII-1);IOl0I10010lIIIl000I1O1IO1IlOIIIIII<=
IIOl11l1l101llOl0l0l101I1O1llIIIII(II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII-1);IOl1I1O0IIO001llOlll1I1lOI1l0IIIII<=III1O0Ol0IOOO0IllIOOO000O1lO0IIIII(II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII-1);IOl1Ol11IlIl0110l0OOll000lI11IIIII<=IIl1IIO111llI0l1O1OI00lIl1I0OIIIII(
II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII-1);FOR IOIOO101OO01Ol1101l1O01O1OOllIIIII IN II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII-1 DOWNTO 0 LOOP IOlIOOI0O1OIlOl01O0OIII10O11lIIIII(IOIOO101OO01Ol1101l1O01O1OOllIIIII+1):=IOlIOOI0O1OIlOl01O0OIII10O11lIIIII(IOIOO101OO01Ol1101l1O01O1OOllIIIII);IO1OIOI0I1l11O0IllIOllII1llIIOIIII(IOIOO101OO01Ol1101l1O01O1OOllIIIII+1):=
IO1OIOI0I1l11O0IllIOllII1llIIOIIII(IOIOO101OO01Ol1101l1O01O1OOllIIIII);IIOl11l1l101llOl0l0l101I1O1llIIIII(IOIOO101OO01Ol1101l1O01O1OOllIIIII+1):=IIOl11l1l101llOl0l0l101I1O1llIIIII(IOIOO101OO01Ol1101l1O01O1OOllIIIII);III1O0Ol0IOOO0IllIOOO000O1lO0IIIII(IOIOO101OO01Ol1101l1O01O1OOllIIIII+1):=III1O0Ol0IOOO0IllIOOO000O1lO0IIIII(IOIOO101OO01Ol1101l1O01O1OOllIIIII);IIl1IIO111llI0l1O1OI00lIl1I0OIIIII(IOIOO101OO01Ol1101l1O01O1OOllIIIII+1):=
IIl1IIO111llI0l1O1OI00lIl1I0OIIIII(IOIOO101OO01Ol1101l1O01O1OOllIIIII);END LOOP;IF II1ll00lO01110lOI1I0IOO0IlO0IIIIII='1'THEN IOl0I10010lIIIl000I1O1IO1IlOIIIIII<='0';IOl1I1O0IIO001llOlll1I1lOI1l0IIIII<='0';IOl1Ol11IlIl0110l0OOll000lI11IIIII<='0';IIOl11l1l101llOl0l0l101I1O1llIIIII:=(OTHERS=>'0');
III1O0Ol0IOOO0IllIOOO000O1lO0IIIII:=(OTHERS=>'0');IIl1IIO111llI0l1O1OI00lIl1I0OIIIII:=(OTHERS=>'0');END IF;IOlIOOI0O1OIlOl01O0OIII10O11lIIIII(0):=IIIIOOlIIO11011I1IlOO10OOOO0OIIIII;IO1OIOI0I1l11O0IllIOllII1llIIOIIII(0):=IIO0101IlI11I0IOlI01l1ll0O10OIIIII;
IIOl11l1l101llOl0l0l101I1O1llIIIII(0):=IIOOO0OOIll110IlI1111I1001I01IIIII;III1O0Ol0IOOO0IllIOOO000O1lO0IIIII(0):=IO00lII1lIll0OllOlI1l1O0OI100IIIII;IIl1IIO111llI0l1O1OI00lIl1I0OIIIII(0):=IIII1llIll1l01O1l1O0OIlO1l00OIIIII;IF IOIIOIIO1lIIOOl0IlO11I00II110IIIII='1'THEN
 IIl11lIlOO0IIII0IOlI0l1000I1IIIIII;IOOI10l0O1lIlIll00Ol1lll10IIIIIIII<='1';IO00O1llIl1l1I1IIOl11OIlI1lIOOIIII:=0;II0IO0O1III0I1I1OlI0011O001IOIIIII:=0;IOI1l0OI1IO0llll1llO11Ol1IIlIIIIII:=II0IO0O1III0I1I1OlI0011O001IOIIIII;IIlO0IOl0I0I0lI0OOll1l1l1lO0IIIIII(IOI1l0OI1IO0llll1llO11Ol1IIlIIIIII+IO00l1II1l000l0I11O010I1IlOlIOIIII):=DIN;II0IO0O1III0I1I1OlI0011O001IOIIIII:=(
II0IO0O1III0I1I1OlI0011O001IOIIIII+1)MOD 2**IOIlllIIlI1OlI0l101llI0II1O1IOIIII;IO00O1llIl1l1I1IIOl11OIlI1lIOOIIII:=IO00O1llIl1l1I1IIOl11OIlI1lIOOIIII+1;IOI1l0OI1IO0llll1llO11Ol1IIlIIIIII:=II0IO0O1III0I1I1OlI0011O001IOIIIII;IOI11IOIlOI1II1Il11OlI01Illl0IIIII:=WRITING;IO0OOOI1IIIlIOIIOO0Il00I1lOOlIIIII<='0';ELSE CASE
 IOI11IOIlOI1II1Il11OlI01Illl0IIIII IS WHEN IDLE=>WHEN WRITING=>IF IIl1O1I0001l1001OllOOII0I10l1IIIII='1'THEN IIlO0IOl0I0I0lI0OOll1l1l1lO0IIIIII(IOI1l0OI1IO0llll1llO11Ol1IIlIIIIII+IO00l1II1l000l0I11O010I1IlOlIOIIII):=DIN;IF IO00O1llIl1l1I1IIOl11OIlI1lIOOIIII=II0l0O0IOlIOI00OIl0IlOlI01OI1IIIII-1
 THEN IOI11IOIlOI1II1Il11OlI01Illl0IIIII:=WRITE_DONE;IO00O1llIl1l1I1IIOl11OIlI1lIOOIIII:=0;IOOI10l0O1lIlIll00Ol1lll10IIIIIIII<='0';IF IO01l1ll0IlOll0I00lll11l0OllIIIIII=READING_LAST OR IO01l1ll0IlOll0I00lll11l0OllIIIIII=READ_DONE THEN IOOI10l0O1lIlIll00Ol1lll10IIIIIIII<=
'1';IO0OOOI1IIIlIOIIOO0Il00I1lOOlIIIII<='1';END IF;ELSE IO00O1llIl1l1I1IIOl11OIlI1lIOOIIII:=IO00O1llIl1l1I1IIOl11OIlI1lIOOIIII+1;II0IO0O1III0I1I1OlI0011O001IOIIIII:=(II0IO0O1III0I1I1OlI0011O001IOIIIII+1)MOD 2**IOIlllIIlI1OlI0l101llI0II1O1IOIIII;IOI1l0OI1IO0llll1llO11Ol1IIlIIIIII:=II0IO0O1III0I1I1OlI0011O001IOIIIII;
END IF;END IF;WHEN WRITE_DONE=>IF IO01l1ll0IlOll0I00lll11l0OllIIIIII=READING_LAST OR IO01l1ll0IlOll0I00lll11l0OllIIIIII=READ_DONE THEN IOOI10l0O1lIlIll00Ol1lll10IIIIIIII<='1';IO0OOOI1IIIlIOIIOO0Il00I1lOOlIIIII<='1';END IF;WHEN
 OTHERS=>NULL;END CASE;END IF;END IF;ELSIF C_MODE/=II1IOOO00I0OI0O01I000O100llOOIIIII THEN IF IIIIlI10IO0IlIll11O0O1OII0OIIOIIII='0'THEN IF IOIIOIIO1lIIOOl0IlO11I00II110IIIII=
'1'THEN IIl11lIlOO0IIII0IOlI0l1000I1IIIIII;IO1I11OIllI1III1III11OlIIlIIOIIIII;IIOOO0OOIll110IlI1111I1001I01IIIII:='1';IO00lII1lIll0OllOlI1l1O0OI100IIIII:='1';IIII1llIll1l01O1l1O0OIlO1l00OIIIII:='0';IO01l1ll0IlOll0I00lll11l0OllIIIIII:=READING;
IOO01101I01OlOIO111IIl0OOIOI0IIIII:=0;IO0OOOI1IIIlIOIIOO0Il00I1lOOlIIIII<='0';III0l0O0I11OOO1lI0OOIO0llOlIlIIIII:=0;IOOI10l11llO01llIIllOI1IO0l1OIIIII(IIlIII1OIIl0OOl00I0IlOOI1IIlOIIIII,IOO0IO0OOOOO0I10II0llO10ll1OlIIIII,III0l0O0I11OOO1lI0OOIO0llOlIlIIIII);IOl1I001lIl1Il1I11lI00l11O1OOIIIII
:=II10110Oll1OOlIOlOlIl01111IlOIIIII;IIlIIII1lOllO0IlO11I1O01110IOIIIII:=IOl1I001lIl1Il1I11lI00l11O1OOIIIII;ELSE CASE IO01l1ll0IlOll0I00lll11l0OllIIIIII IS WHEN IDLE=>WHEN READING=>IO00lII1lIll0OllOlI1l1O0OI100IIIII:='0';IF IOO01101I01OlOIO111IIl0OOIOI0IIIII=
IOO0IO0OOOOO0I10II0llO10ll1OlIIIII-1 THEN IO01l1ll0IlOll0I00lll11l0OllIIIIII:=IDLE;IOO01101I01OlOIO111IIl0OOIOI0IIIII:=0;III0l0O0I11OOO1lI0OOIO0llOlIlIIIII:=0;IIOOO0OOIll110IlI1111I1001I01IIIII:='0';IIII1llIll1l01O1l1O0OIlO1l00OIIIII:='0';IO0OOOI1IIIlIOIIOO0Il00I1lOOlIIIII<='1';ELSE IF
 IOO01101I01OlOIO111IIl0OOIOI0IIIII=IOO0IO0OOOOO0I10II0llO10ll1OlIIIII-2 THEN IIII1llIll1l01O1l1O0OIlO1l00OIIIII:='1';END IF;IOO01101I01OlOIO111IIl0OOIOI0IIIII:=IOO01101I01OlOIO111IIl0OOIOI0IIIII+1;III0l0O0I11OOO1lI0OOIO0llOlIlIIIII:=(III0l0O0I11OOO1lI0OOIO0llOlIlIIIII+1)MOD 2**
IOl10OI01O100l1IIIl0IIl1lO10lIIIII;IOOI10l11llO01llIIllOI1IO0l1OIIIII(IIlIII1OIIl0OOl00I0IlOOI1IIlOIIIII,IOO0IO0OOOOO0I10II0llO10ll1OlIIIII,III0l0O0I11OOO1lI0OOIO0llOlIlIIIII);IOl1I001lIl1Il1I11lI00l11O1OOIIIII:=II10110Oll1OOlIOlOlIl01111IlOIIIII;WHILE(IOl1I001lIl1Il1I11lI00l11O1OOIIIII
>IOO0IO0OOOOO0I10II0llO10ll1OlIIIII-1)LOOP III0l0O0I11OOO1lI0OOIO0llOlIlIIIII:=(III0l0O0I11OOO1lI0OOIO0llOlIlIIIII+1)MOD 2**IOl10OI01O100l1IIIl0IIl1lO10lIIIII;IOOI10l11llO01llIIllOI1IO0l1OIIIII(IIlIII1OIIl0OOl00I0IlOOI1IIlOIIIII,
IOO0IO0OOOOO0I10II0llO10ll1OlIIIII,III0l0O0I11OOO1lI0OOIO0llOlIlIIIII);IOl1I001lIl1Il1I11lI00l11O1OOIIIII:=II10110Oll1OOlIOlOlIl01111IlOIIIII;END LOOP;END IF;WHEN OTHERS=>NULL;END CASE;END IF;IOOI10l11llO01llIIllOI1IO0l1OIIIII(
IIlIII1OIIl0OOl00I0IlOOI1IIlOIIIII,IOO0IO0OOOOO0I10II0llO10ll1OlIIIII,III0l0O0I11OOO1lI0OOIO0llOlIlIIIII);IOl1I001lIl1Il1I11lI00l11O1OOIIIII:=II10110Oll1OOlIOlOlIl01111IlOIIIII;IIlIIII1lOllO0IlO11I1O01110IOIIIII:=IOl1I001lIl1Il1I11lI00l11O1OOIIIII;IF II1ll00lO01110lOI1I0IOO0IlO0IIIIII='1'THEN IOl0I10010lIIIl000I1O1IO1IlOIIIIII
<='0';IIOl11l1l101llOl0l0l101I1O1llIIIII:=(OTHERS=>'0');IOl1I1O0IIO001llOlll1I1lOI1l0IIIII<='0';III1O0Ol0IOOO0IllIOOO000O1lO0IIIII:=(OTHERS=>'0');IOl1Ol11IlIl0110l0OOll000lI11IIIII<='0';IIl1IIO111llI0l1O1OI00lIl1I0OIIIII:=(OTHERS
=>'0');END IF;IOl0I10010lIIIl000I1O1IO1IlOIIIIII<=IIOl11l1l101llOl0l0l101I1O1llIIIII(II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII-1);FOR IIOO0IIlO0O0I01l00I1011II0011IIIII IN II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII-1 DOWNTO 0 LOOP IIOl11l1l101llOl0l0l101I1O1llIIIII(IIOO0IIlO0O0I01l00I1011II0011IIIII+1):=IIOl11l1l101llOl0l0l101I1O1llIIIII
(IIOO0IIlO0O0I01l00I1011II0011IIIII);END LOOP;IIOl11l1l101llOl0l0l101I1O1llIIIII(0):=IIOOO0OOIll110IlI1111I1001I01IIIII;IOl1I1O0IIO001llOlll1I1lOI1l0IIIII<=III1O0Ol0IOOO0IllIOOO000O1lO0IIIII(II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII-1);FOR IOl0lOIIO0IllIOIO1Oll0lOOOII1IIIII IN II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII-1
 DOWNTO 0 LOOP III1O0Ol0IOOO0IllIOOO000O1lO0IIIII(IOl0lOIIO0IllIOIO1Oll0lOOOII1IIIII+1):=III1O0Ol0IOOO0IllIOOO000O1lO0IIIII(IOl0lOIIO0IllIOIO1Oll0lOOOII1IIIII);END LOOP;III1O0Ol0IOOO0IllIOOO000O1lO0IIIII(0):=IO00lII1lIll0OllOlI1l1O0OI100IIIII;IOl1Ol11IlIl0110l0OOll000lI11IIIII<=
IIl1IIO111llI0l1O1OI00lIl1I0OIIIII(II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII-1);FOR IIOlI0O00IO011lIIOl100O001lIOOIIII IN II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII-1 DOWNTO 0 LOOP IIl1IIO111llI0l1O1OI00lIl1I0OIIIII(IIOlI0O00IO011lIIOl100O001lIOOIIII+1):=IIl1IIO111llI0l1O1OI00lIl1I0OIIIII(IIOlI0O00IO011lIIOl100O001lIOOIIII);
END LOOP;IIl1IIO111llI0l1O1OI00lIl1I0OIIIII(0):=IIII1llIll1l01O1l1O0OIlO1l00OIIIII;II001Il0III1O1OI001IOI100000OIIIII<=III01lO1l00IOOO0O0I0O0I111O0IIIIII(IOOIOOO1OIO1O0OIIOlOOIOlI1l1lIIIII(II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII-1),15);FOR III0IlIOll1Ill0I0I0OlIO10I1I1IIIII
 IN II1I0lOOIIOI1l0l10l0O0l0Ol0OIIIIII-1 DOWNTO 0 LOOP IOOIOOO1OIO1O0OIIOlOOIOlI1l1lIIIII(III0IlIOll1Ill0I0I0OlIO10I1I1IIIII+1):=IOOIOOO1OIO1O0OIIOlOOIOlI1l1lIIIII(III0IlIOll1Ill0I0I0OlIO10I1I1IIIII);END LOOP;IOOIOOO1OIO1O0OIIOlOOIOlI1l1lIIIII(0):=IIlIIII1lOllO0IlO11I1O01110IOIIIII;END IF;END IF;ELSE
 IF C_MODE=II1IOOO00I0OI0O01I000O100llOOIIIII AND IOI11IOIlOI1II1Il11OlI01Illl0IIIII=WRITING THEN IIlO0IOl0I0I0lI0OOll1l1l1lO0IIIIII(IOI1l0OI1IO0llll1llO11Ol1IIlIIIIII+IO00l1II1l000l0I11O010I1IlOlIOIIII):=DIN;END IF;END
 IF;END IF;END PROCESS;END;
